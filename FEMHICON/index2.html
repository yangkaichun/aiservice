<!DOCTYPE html>
<html lang="zh-TW">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>äºæ±é†«é™¢é«˜è§£æç‰ˆé¢ç”¢ç”Ÿå™¨ (8å¤§CDN)</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/dom-to-image/2.6.0/dom-to-image.min.js"></script>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
<link href="https://cdn.jsdelivr.net/npm/remixicon@3.5.0/fonts/remixicon.css" rel="stylesheet">
<link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@tabler/icons-webfont@latest/tabler-icons.min.css">
<script src="https://unpkg.com/@phosphor-icons/web"></script>
<link href="https://unpkg.com/ionicons@4.5.10-0/dist/css/ionicons.min.css" rel="stylesheet">

<style>
    /* ä¿æŒåŸè¨­è¨ˆ */
    body{margin:0;padding:0;font-family:"Microsoft JhengHei","Heiti TC",sans-serif;background-color:#333;display:flex;flex-direction:column;height:100vh;overflow:hidden}
    #preview-area{flex:1;background-color:#222;overflow:auto;display:flex;justify-content:center;align-items:center;padding:20px;position:relative}
    #scale-wrapper{transform-origin:center center;transform:scale(0.25);box-shadow:0 0 50px rgba(0,0,0,.5);transition:transform .3s}
    #main-canvas{width:2500px;height:1686px;background-color:#f4f6f8;display:grid;grid-template-columns:repeat(3,1fr);grid-template-rows:repeat(2,1fr);gap:50px;padding:60px;box-sizing:border-box}
    .slot-card{background-color:#fff;border-radius:40px;box-shadow:0 12px 40px rgba(0,0,0,.06);display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center;cursor:pointer;border:10px solid transparent;transition:transform .2s,box-shadow .2s;position:relative;overflow:hidden}
    .slot-card:hover{transform:translateY(-5px);box-shadow:0 20px 50px rgba(0,0,0,.1)}
    .slot-card.active-slot{border-color:#ff3333;box-shadow:0 0 50px rgba(255,50,50,.4);z-index:10}
    /* ä¸‹è¼‰æ™‚çš„å¼·åˆ¶æ¨£å¼ */
    #main-canvas.hide-selection .slot-card.active-slot{border-color:transparent!important;box-shadow:0 12px 40px rgba(0,0,0,.06)!important;transform:none!important;z-index:auto!important}
    
    .slot-card.special-green{background-color:#00854a}
    .slot-card.special-green .external-icon-render,.slot-card.special-green .icon-display,.slot-card.special-green .label-display{fill:#fff!important;stroke:#fff!important;color:#fff!important}
    .slot-card.special-green .icon-outline{fill:none!important;stroke:#fff!important}
    .slot-card.special-green .icon-fill{fill:#fff!important;stroke:none!important}
    
    .icon-display{width:250px;height:250px;margin-bottom:40px;fill:#00854a;pointer-events:none}
    .icon-display.icon-outline{fill:none;stroke:#00854a;stroke-width:5;stroke-linecap:round;stroke-linejoin:round}
    .icon-display.icon-fill{fill:#00854a;stroke:none}
    .external-icon-render{font-size:180px;line-height:1;color:#00854a;margin-bottom:40px;display:inline-block;pointer-events:none}
    .material-icons.external-icon-render{font-size:220px}
    .label-display{font-size:80px;font-weight:700;color:#333;line-height:1.3;pointer-events:none;white-space:pre-wrap;min-height:1.3em}
    
    #library-area{height:380px;background-color:#fff;border-top:1px solid #ccc;display:flex;flex-direction:column;transition:height .3s cubic-bezier(.4,0,.2,1);overflow:hidden;position:relative;z-index:100}
    #library-area.hidden{height:0;border-top:none}
    .control-header{padding:15px 20px;background:#eee;border-bottom:1px solid #ddd;display:flex;align-items:center;gap:20px;flex-wrap:wrap}
    .edit-group{display:flex;align-items:center;gap:10px}
    .edit-group input,.edit-group select{padding:8px 12px;font-size:16px;border:1px solid #ccc;border-radius:5px}
    .edit-group label{font-weight:700;color:#333}
    .library-scroll{flex:1;overflow-y:auto;display:flex;flex-wrap:wrap;padding:15px;gap:10px;align-content:flex-start;background-color:#fafafa}
    .lib-item{width:80px;height:80px;border:1px solid #ddd;border-radius:8px;background:#fff;display:flex;flex-direction:column;align-items:center;justify-content:center;cursor:pointer;transition:all .2s;padding:5px;position:relative}
    .lib-item:hover{background-color:#e8f5e9;border-color:#00854a;transform:scale(1.05);z-index:2}
    .lib-item svg{width:40px;height:40px;fill:#00854a}
    .lib-item i,.lib-item span.material-icons{font-size:36px;color:#00854a}
    .lib-item .lib-name{font-size:10px;color:#888;margin-top:5px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;width:100%;text-align:center}
    #manual-input-container{width:100%;padding:10px 15px;background:#e8f5e9;border-bottom:1px solid #c8e6c9;display:none;align-items:center;gap:10px}
    #manual-input-container.active{display:flex}
    .floating-btns{position:fixed;bottom:20px;right:20px;display:flex;flex-direction:column;gap:10px;z-index:200}
    .float-btn{background-color:#00854a;color:#fff;border:none;padding:12px 20px;border-radius:30px;font-size:16px;cursor:pointer;box-shadow:0 4px 10px rgba(0,0,0,.3);transition:background-color .2s,transform .1s;display:flex;align-items:center;gap:8px;justify-content:center;min-width:160px;text-decoration:none}
    .float-btn:hover{background-color:#006633;transform:translateY(-2px)}
    #download-btn{background-color:#d84315}#download-btn:hover{background-color:#bf360c}
    #toggle-border-btn{background-color:#555}#toggle-border-btn:hover{background-color:#333}
    .status-badge{background:#00854a;color:#fff;padding:4px 10px;border-radius:4px;font-size:14px}
</style>
</head>
<body>

<div id="preview-area">
    <div id="scale-wrapper">
        <div id="main-canvas"></div>
    </div>
</div>

<div class="floating-btns">
    <button id="download-btn" class="float-btn" onclick="saveAsJpeg()">
        <span>ğŸ’¾</span> <span>ä¸‹è¼‰ PNG</span>
    </button>
    <button id="toggle-border-btn" class="float-btn" onclick="toggleRedBorder()">
        <span>ğŸ”³</span> <span id="border-btn-text">éš±è—é¸å–æ¡†</span>
    </button>
    <button id="toggle-panel-btn" class="float-btn" onclick="toggleLibrary()">
        <span>ğŸ‘ï¸</span> <span id="panel-btn-text">éš±è—æ§åˆ¶é¢æ¿</span>
    </button>
</div>

<div id="library-area">
    <div class="control-header">
        <span class="status-badge" id="status-text">é¸å–ä¸­ï¼šç¬¬ 1 æ ¼</span>
        <div class="edit-group">
            <label for="icon-source-select">åœ–ç¤ºä¾†æºï¼š</label>
            <select id="icon-source-select" onchange="changeIconSource(this.value)">
                <option value="internal">å…§å»ºåœ–åº« (356+)</option>
                <option value="fontawesome">Font Awesome (1000+)</option>
                <option value="material">Google Material (1000+)</option>
                <option value="bootstrap">Bootstrap Icons (1000+)</option>
                <option value="remix">Remix Icon (1000+)</option>
                <option value="boxicons">Boxicons (1000+)</option>
                <option value="tabler">Tabler Icons (1000+)</option>
                <option value="phosphor">Phosphor Icons (1000+)</option>
                <option value="ionicons">Ionicons (1000+)</option>
            </select>
        </div>
        <div class="edit-group">
            <label for="text-input">ä¸‹æ–¹æ–‡å­—ï¼š</label>
            <input type="text" id="text-input" placeholder="è¼¸å…¥æ–‡å­—..." oninput="updateText(this.value)" style="width: 250px;">
        </div>
        <div style="font-size: 14px; color: #666; margin-left: auto;">
            ğŸ’¡ æ”¯æ´ 8 å¤§ CDN ä¾†æºï¼Œä¿è­‰ä¸‹è¼‰ç„¡ç°é‚Šã€‚
        </div>
    </div>

    <div id="manual-input-container">
        <label id="manual-label" for="manual-code">æ‰‹å‹•è¼¸å…¥ä»£ç¢¼ï¼š</label>
        <input type="text" id="manual-code" placeholder="ä¾‹å¦‚: fa-solid fa-heart" style="width: 300px; padding: 5px;">
        <button onclick="applyManualIcon()" style="padding: 5px 15px; cursor: pointer;">å¥—ç”¨</button>
        <span style="font-size: 12px; color: #666;">(ä¹Ÿå¯ç›´æ¥é»æ“Šä¸‹æ–¹åˆ—è¡¨)</span>
    </div>

    <div class="library-scroll" id="icon-library"></div>
</div>

<script src="script.js"></script>
</body>
</html>