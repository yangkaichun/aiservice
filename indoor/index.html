<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>å°åŒ—æ¦®ç¸½å®¤å…§å°èˆªç³»çµ±</title>
    <!-- æ–°å¢ç¶²é  Icon -->
    <link rel="icon" href="image/feticon.ico">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Noto Sans TC', sans-serif;
            background: #ffffff;
            overflow-x: hidden;
        }

        .screen {
            display: none;
            min-height: 100vh;
            animation: fadeIn 0.3s ease;
        }

        .screen.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        /* Welcome Screen */
        .welcome-screen {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 20px;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
        }

        .logo-container {
            text-align: center;
            margin-bottom: 50px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        /* ä¿®æ”¹ï¼šé›™ Logo æ’ç‰ˆæ¨£å¼ */
        .logos-wrapper {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 20px; /* Logo ä¹‹é–“çš„é–“è· */
            margin-bottom: 25px;
        }

        .logo-tvgh {
            height: 100px; /* ä¸» Logo é«˜åº¦ */
            width: auto;
        }

        .logo-fet {
            height: 50px; /* æ¬¡è¦ Logo è¼ƒå° */
            width: auto;
        }

        .hospital-name {
            font-size: 24px;
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 10px;
        }

        .app-name {
            font-size: 16px;
            color: #7f8c8d;
        }

        .main-icon {
            width: 120px;
            height: 120px;
            background: #ffffff;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            cursor: pointer;
            transition: transform 0.3s ease;
        }

        .main-icon:active {
            transform: scale(0.95);
        }

        .main-icon svg {
            width: 60px;
            height: 60px;
        }

        .language-selector {
            width: 100%;
            max-width: 300px;
            margin-top: 30px;
        }

        .language-btn {
            width: 100%;
            padding: 15px;
            margin: 10px 0;
            border: 2px solid #3498db;
            background: #ffffff;
            color: #2c3e50;
            font-size: 16px;
            font-weight: 500;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .language-btn:active {
            transform: scale(0.98);
            background: #3498db;
            color: white;
        }

        /* Bluetooth Prompt Screen */
        .bluetooth-screen {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 30px;
            text-align: center;
        }

        .bluetooth-icon {
            width: 100px;
            height: 100px;
            margin-bottom: 30px;
        }

        .bluetooth-icon svg {
            width: 100%;
            height: 100%;
            fill: #3498db;
        }

        .bluetooth-title {
            font-size: 24px;
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 15px;
        }

        .bluetooth-desc {
            font-size: 16px;
            color: #7f8c8d;
            line-height: 1.6;
            margin-bottom: 40px;
        }

        .action-btn {
            width: 100%;
            max-width: 300px;
            padding: 15px;
            border: none;
            background: #3498db;
            color: white;
            font-size: 16px;
            font-weight: 600;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .action-btn:active {
            transform: scale(0.98);
            background: #2980b9;
        }

        .skip-btn {
            margin-top: 15px;
            background: transparent;
            color: #7f8c8d;
            text-decoration: underline;
        }

        /* Navigation Screen */
        .nav-screen {
            display: flex;
            flex-direction: column;
            height: 100vh;
        }

        .header {
            background: #ffffff;
            padding: 15px 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            display: flex;
            justify-content: space-between;
            align-items: center;
            z-index: 100;
        }

        .header-title {
            font-size: 18px;
            font-weight: 600;
            color: #2c3e50;
        }

        .lang-switch {
            padding: 8px 15px;
            border: 1px solid #ddd;
            background: white;
            border-radius: 20px;
            font-size: 14px;
            cursor: pointer;
        }

        .map-container {
            flex: 1;
            position: relative;
            background: #f8f9fa;
            overflow: hidden;
        }

        .hospital-map {
            width: 100%;
            height: 100%;
            position: relative;
            background: #e8eef3;
        }

        .map-image {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }

        .current-location {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 20px;
            height: 20px;
            background: #3498db;
            border: 3px solid white;
            border-radius: 50%;
            box-shadow: 0 0 0 8px rgba(52, 152, 219, 0.2);
            animation: pulse 2s infinite;
            z-index: 10;
        }

        @keyframes pulse {
            0%, 100% {
                box-shadow: 0 0 0 0 rgba(52, 152, 219, 0.4);
            }
            50% {
                box-shadow: 0 0 0 15px rgba(52, 152, 219, 0);
            }
        }

        .location-label {
            position: absolute;
            top: 45%;
            left: 50%;
            transform: translate(-50%, -100%);
            background: white;
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: 500;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            white-space: nowrap;
        }

        .zoom-controls {
            position: absolute;
            right: 20px;
            top: 50%;
            transform: translateY(-50%);
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .zoom-btn {
            width: 40px;
            height: 40px;
            background: white;
            border: none;
            border-radius: 50%;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            font-size: 20px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .search-panel {
            background: white;
            border-radius: 20px 20px 0 0;
            box-shadow: 0 -2px 20px rgba(0,0,0,0.1);
            padding: 20px;
        }

        .search-container {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
        }

        .search-input {
            flex: 1;
            padding: 12px 15px;
            border: 1px solid #ddd;
            border-radius: 25px;
            font-size: 16px;
            outline: none;
        }

        .search-input:focus {
            border-color: #3498db;
        }

        .voice-btn, .menu-btn {
            width: 45px;
            height: 45px;
            background: #3498db;
            border: none;
            border-radius: 50%;
            color: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }

        .menu-btn {
            background: #95a5a6;
        }

        .voice-btn svg, .menu-btn svg {
            width: 20px;
            height: 20px;
            fill: white;
        }

        .quick-locations {
            margin-top: 20px;
        }

        .section-title {
            font-size: 16px;
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 15px;
        }

        .location-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
        }

        .location-card {
            background: #f8f9fa;
            padding: 15px 10px;
            border-radius: 12px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }

        .location-card:active {
            transform: scale(0.95);
            background: #e8eef3;
            border-color: #3498db;
        }

        .location-icon {
            font-size: 28px;
            margin-bottom: 8px;
        }

        .location-name {
            font-size: 13px;
            color: #2c3e50;
            font-weight: 500;
        }

        /* Menu Modal */
        .menu-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.5);
            z-index: 1000;
            animation: fadeIn 0.3s ease;
        }

        .menu-modal.active {
            display: flex;
            align-items: flex-end;
        }

        .menu-content {
            width: 100%;
            background: white;
            border-radius: 20px 20px 0 0;
            max-height: 80vh;
            overflow-y: auto;
            padding: 20px;
            animation: slideUp 0.3s ease;
        }

        @keyframes slideUp {
            from {
                transform: translateY(100%);
            }
            to {
                transform: translateY(0);
            }
        }

        .menu-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .close-btn {
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: #7f8c8d;
        }

        .category-section {
            margin-bottom: 25px;
        }

        .category-title {
            font-size: 16px;
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 12px;
            padding-bottom: 8px;
            border-bottom: 2px solid #ecf0f1;
        }

        .location-list {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .location-item {
            padding: 12px 15px;
            background: #f8f9fa;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .location-item:active {
            background: #e8eef3;
            transform: translateX(5px);
        }

        .location-item-text {
            font-size: 15px;
            color: #2c3e50;
        }

        .location-item-arrow {
            color: #95a5a6;
        }

        /* Navigation Route Screen */
        .route-screen {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: white;
            z-index: 2000;
            display: none;
        }

        .route-screen.active {
            display: flex;
            flex-direction: column;
        }

        .route-header {
            background: #3498db;
            color: white;
            padding: 15px 20px;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .back-btn {
            background: none;
            border: none;
            color: white;
            font-size: 24px;
            cursor: pointer;
            padding: 5px;
        }

        .route-info {
            flex: 1;
        }

        .destination-name {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 5px;
        }

        .route-stats {
            font-size: 14px;
            opacity: 0.9;
        }

        .route-map {
            flex: 1;
            position: relative;
            background: #e8eef3;
            overflow: hidden;
        }

        .route-path {
            position: absolute;
            width: 4px;
            background: #3498db;
            z-index: 5;
        }

        .path-vertical {
            left: 50%;
            top: 50%;
            height: 200px;
            transform: translateX(-50%);
        }

        .path-horizontal {
            top: calc(50% + 200px);
            left: 50%;
            width: 150px;
            height: 4px;
        }

        .destination-marker {
            position: absolute;
            top: calc(50% + 200px);
            left: calc(50% + 150px);
            width: 30px;
            height: 30px;
            background: #e74c3c;
            border: 3px solid white;
            border-radius: 50%;
            transform: translate(-50%, -50%);
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
            z-index: 10;
        }

        .route-instructions {
            background: white;
            padding: 20px;
            box-shadow: 0 -2px 10px rgba(0,0,0,0.05);
        }

        .instruction-item {
            display: flex;
            gap: 15px;
            padding: 15px 0;
            border-bottom: 1px solid #ecf0f1;
        }

        .instruction-item:last-child {
            border-bottom: none;
        }

        .instruction-icon {
            width: 40px;
            height: 40px;
            background: #ecf0f1;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }

        .instruction-text {
            flex: 1;
        }

        .instruction-title {
            font-size: 15px;
            font-weight: 500;
            color: #2c3e50;
            margin-bottom: 3px;
        }

        .instruction-detail {
            font-size: 13px;
            color: #7f8c8d;
        }

        .arrival-btn {
            width: 100%;
            padding: 15px;
            background: #27ae60;
            color: white;
            border: none;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 600;
            margin-top: 15px;
            cursor: pointer;
        }

        /* Floor Map Overlay */
        .floor-map {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 90%;
            max-width: 400px;
            aspect-ratio: 1.2;
            background: white;
            border: 2px solid #ddd;
            border-radius: 8px;
            padding: 10px;
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            grid-template-rows: repeat(3, 1fr);
            gap: 5px;
            box-shadow: 0 0 0 9999px rgba(0,0,0,0.1);
        }

        .room {
            background: #f8f9fa;
            border: 1px solid #ddd;
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 11px;
            text-align: center;
            padding: 3px;
            color: #7f8c8d;
        }

        .room.current {
            background: #3498db;
            color: white;
            font-weight: 600;
        }

        .room.highlight {
            background: #e74c3c;
            color: white;
            animation: blink 1s infinite;
        }

        @keyframes blink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
    </style>
</head>
<body>
    <!-- Welcome Screen -->
    <div class="screen active" id="welcomeScreen">
        <div class="welcome-screen">
            <div class="logo-container">
                <!-- ä¿®æ”¹ï¼šé›™ Logo å€åŸŸ -->
                <div class="logos-wrapper">
                    <img src="image/tvghlogo.png" alt="TVGH Logo" class="logo-tvgh">
                    <img src="image/fetlogo.png" alt="FET Logo" class="logo-fet">
                </div>
                <div class="hospital-name">å°åŒ—æ¦®æ°‘ç¸½é†«é™¢</div>
                <div class="app-name">å®¤å…§å°èˆªç³»çµ±</div>
            </div>
            
            <div class="main-icon" onclick="showLanguageSelector()">
                <svg viewBox="0 0 24 24" fill="none" stroke="#3498db" stroke-width="2">
                    <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path>
                    <circle cx="12" cy="10" r="3"></circle>
                </svg>
            </div>

            <div class="language-selector" id="languageSelector" style="display: none;">
                <button class="language-btn" onclick="selectLanguage('zh-TW')">
                    ğŸ‡¹ğŸ‡¼ ç¹é«”ä¸­æ–‡
                </button>
                <button class="language-btn" onclick="selectLanguage('en')">
                    ğŸ‡¬ğŸ‡§ English
                </button>
                <button class="language-btn" onclick="selectLanguage('ms')">
                    ğŸ‡²ğŸ‡¾ Bahasa Melayu
                </button>
                <button class="language-btn" onclick="selectLanguage('vi')">
                    ğŸ‡»ğŸ‡³ Tiáº¿ng Viá»‡t
                </button>
            </div>
        </div>
    </div>

    <!-- Bluetooth Prompt Screen -->
    <div class="screen" id="bluetoothScreen">
        <div class="bluetooth-screen">
            <div class="bluetooth-icon">
                <svg viewBox="0 0 24 24">
                    <path d="M17.71 7.71L12 2h-1v7.59L6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 11 14.41V22h1l5.71-5.71-4.3-4.29 4.3-4.29zM13 5.83l1.88 1.88L13 9.59V5.83zm1.88 10.46L13 18.17v-3.76l1.88 1.88z"/>
                </svg>
            </div>
            <div class="bluetooth-title" id="btTitle">è«‹é–‹å•Ÿè—ç‰™åŠŸèƒ½</div>
            <div class="bluetooth-desc" id="btDesc">
                ç‚ºäº†æä¾›ç²¾ç¢ºçš„å®¤å…§å®šä½æœå‹™ï¼Œ<br>
                ç³»çµ±éœ€è¦ä½¿ç”¨æ‚¨çš„è—ç‰™åŠŸèƒ½<br>
                ä¾†å®šä½æ‚¨åœ¨é†«é™¢å…§çš„ä½ç½®
            </div>
            <button class="action-btn" onclick="enableBluetooth()">
                <span id="btBtnText">é–‹å•Ÿè—ç‰™</span>
            </button>
            <button class="action-btn skip-btn" onclick="skipBluetooth()">
                <span id="btSkipText">ç¨å¾Œè¨­å®š</span>
            </button>
        </div>
    </div>

    <!-- Navigation Screen -->
    <div class="screen" id="navScreen">
        <div class="nav-screen">
            <div class="header">
                <div class="header-title" id="headerTitle">å®¤å…§å°èˆª</div>
                <button class="lang-switch" onclick="showLanguageMenu()">
                    <span id="currentLang">ä¸­æ–‡</span> â–¼
                </button>
            </div>

            <div class="map-container">
                <div class="hospital-map">
                    <!-- Simulated hospital floor map -->
                    <div class="floor-map">
                        <div class="room">è—¥å±€</div>
                        <div class="room">æ›è™Ÿ</div>
                        <div class="room">æ‰¹åƒ¹</div>
                        <div class="room">é›»æ¢¯</div>
                        <div class="room">å€™è¨ºå€</div>
                        <div class="room current">æ‚¨åœ¨é€™è£¡</div>
                        <div class="room">æœå‹™å°</div>
                        <div class="room">é›»æ¢¯</div>
                        <div class="room">æª¢é©—å®¤</div>
                        <div class="room">æ´—æ‰‹é–“</div>
                        <div class="room">èµ°å»Š</div>
                        <div class="room">å‡ºå£</div>
                    </div>
                    
                    <div class="current-location"></div>
                    <div class="location-label" id="currentLocationLabel">ç¬¬ä¸€é–€è¨º 1æ¨“ æœå‹™å°é™„è¿‘</div>
                </div>

                <div class="zoom-controls">
                    <button class="zoom-btn" onclick="zoomIn()">+</button>
                    <button class="zoom-btn" onclick="zoomOut()">âˆ’</button>
                </div>
            </div>

            <div class="search-panel">
                <div class="search-container">
                    <input 
                        type="text" 
                        class="search-input" 
                        id="searchInput" 
                        placeholder="è«‹è¼¸å…¥ç›®çš„åœ°..."
                        onkeypress="handleSearch(event)"
                    >
                    <button class="voice-btn" onclick="startVoiceInput()" title="èªéŸ³è¼¸å…¥">
                        <svg viewBox="0 0 24 24">
                            <path d="M12 14c1.66 0 3-1.34 3-3V5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3z"/>
                            <path d="M17 11c0 2.76-2.24 5-5 5s-5-2.24-5-5H5c0 3.53 2.61 6.43 6 6.92V21h2v-3.08c3.39-.49 6-3.39 6-6.92h-2z"/>
                        </svg>
                    </button>
                    <button class="menu-btn" onclick="showMenu()" title="åœ°é»é¸å–®">
                        <svg viewBox="0 0 24 24">
                            <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>
                        </svg>
                    </button>
                </div>

                <div class="quick-locations">
                    <div class="section-title" id="quickTitle">å¸¸ç”¨åœ°é»</div>
                    <div class="location-grid">
                        <div class="location-card" onclick="navigateTo('ç¬¬ä¸€é–€è¨º')">
                            <div class="location-icon">ğŸ¥</div>
                            <div class="location-name">ç¬¬ä¸€é–€è¨º</div>
                        </div>
                        <div class="location-card" onclick="navigateTo('ç¬¬äºŒé–€è¨º')">
                            <div class="location-icon">ğŸ¥</div>
                            <div class="location-name">ç¬¬äºŒé–€è¨º</div>
                        </div>
                        <div class="location-card" onclick="navigateTo('ç¬¬ä¸‰é–€è¨º')">
                            <div class="location-icon">ğŸ¥</div>
                            <div class="location-name">ç¬¬ä¸‰é–€è¨º</div>
                        </div>
                        <div class="location-card" onclick="navigateTo('è—¥å±€')">
                            <div class="location-icon">ğŸ’Š</div>
                            <div class="location-name">è—¥å±€</div>
                        </div>
                        <div class="location-card" onclick="navigateTo('æª¢é©—å®¤')">
                            <div class="location-icon">ğŸ”¬</div>
                            <div class="location-name">æª¢é©—å®¤</div>
                        </div>
                        <div class="location-card" onclick="navigateTo('æ€¥è¨º')">
                            <div class="location-icon">ğŸš¨</div>
                            <div class="location-name">æ€¥è¨º</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Menu Modal -->
    <div class="menu-modal" id="menuModal" onclick="closeMenuIfOutside(event)">
        <div class="menu-content" onclick="event.stopPropagation()">
            <div class="menu-header">
                <h2 id="menuTitle">æ‰€æœ‰åœ°é»</h2>
                <button class="close-btn" onclick="closeMenu()">Ã—</button>
            </div>

            <div class="category-section">
                <div class="category-title">é–€è¨ºå¤§æ¨“</div>
                <div class="location-list">
                    <div class="location-item" onclick="navigateTo('ç¬¬ä¸€é–€è¨º')">
                        <span class="location-item-text">ç¬¬ä¸€é–€è¨º</span>
                        <span class="location-item-arrow">â€º</span>
                    </div>
                    <div class="location-item" onclick="navigateTo('ç¬¬äºŒé–€è¨º')">
                        <span class="location-item-text">ç¬¬äºŒé–€è¨º</span>
                        <span class="location-item-arrow">â€º</span>
                    </div>
                    <div class="location-item" onclick="navigateTo('ç¬¬ä¸‰é–€è¨º')">
                        <span class="location-item-text">ç¬¬ä¸‰é–€è¨º</span>
                        <span class="location-item-arrow">â€º</span>
                    </div>
                    <div class="location-item" onclick="navigateTo('æ¹–ç•”é–€è¨º')">
                        <span class="location-item-text">æ¹–ç•”é–€è¨º</span>
                        <span class="location-item-arrow">â€º</span>
                    </div>
                </div>
            </div>

            <div class="category-section">
                <div class="category-title">å…§ç§‘</div>
                <div class="location-list">
                    <div class="location-item" onclick="navigateTo('å¿ƒè‡Ÿå…§ç§‘')">
                        <span class="location-item-text">å¿ƒè‡Ÿå…§ç§‘ (ä¸‰é–€è¨º3F)</span>
                        <span class="location-item-arrow">â€º</span>
                    </div>
                    <div class="location-item" onclick="navigateTo('èƒ¸è…”å…§ç§‘')">
                        <span class="location-item-text">èƒ¸è…”å…§ç§‘ (æ¹–ç•”é–€è¨º2F)</span>
                        <span class="location-item-arrow">â€º</span>
                    </div>
                    <div class="location-item" onclick="navigateTo('èƒƒè…¸è‚è†½ç§‘')">
                        <span class="location-item-text">èƒƒè…¸è‚è†½ç§‘ (ä¸‰é–€è¨º5F)</span>
                        <span class="location-item-arrow">â€º</span>
                    </div>
                    <div class="location-item" onclick="navigateTo('ç¥ç¶“å…§ç§‘')">
                        <span class="location-item-text">ç¥ç¶“å…§ç§‘ (ä¸€é–€è¨º2F)</span>
                        <span class="location-item-arrow">â€º</span>
                    </div>
                    <div class="location-item" onclick="navigateTo('å…§åˆ†æ³Œç§‘')">
                        <span class="location-item-text">å…§åˆ†æ³Œæš¨æ–°é™³ä»£è¬ç§‘ (äºŒé–€è¨º3F)</span>
                        <span class="location-item-arrow">â€º</span>
                    </div>
                    <div class="location-item" onclick="navigateTo('è…è‡Ÿç§‘')">
                        <span class="location-item-text">è…è‡Ÿç§‘ (ä¸‰é–€è¨º4F)</span>
                        <span class="location-item-arrow">â€º</span>
                    </div>
                    <div class="location-item" onclick="navigateTo('è¡€æ¶²è…«ç˜¤ç§‘')">
                        <span class="location-item-text">è¡€æ¶²è…«ç˜¤ç§‘ (äºŒé–€è¨º2F)</span>
                        <span class="location-item-arrow">â€º</span>
                    </div>
                    <div class="location-item" onclick="navigateTo('æ„ŸæŸ“ç§‘')">
                        <span class="location-item-text">æ„ŸæŸ“ç§‘ (æ¹–ç•”é–€è¨º2F)</span>
                        <span class="location-item-arrow">â€º</span>
                    </div>
                </div>
            </div>

            <div class="category-section">
                <div class="category-title">å¤–ç§‘</div>
                <div class="location-list">
                    <div class="location-item" onclick="navigateTo('ä¸€èˆ¬å¤–ç§‘')">
                        <span class="location-item-text">ä¸€èˆ¬å¤–ç§‘ (ä¸‰é–€è¨º5F)</span>
                        <span class="location-item-arrow">â€º</span>
                    </div>
                    <div class="location-item" onclick="navigateTo('å¿ƒè‡Ÿå¤–ç§‘')">
                        <span class="location-item-text">å¿ƒè‡Ÿå¤–ç§‘ (ä¸‰é–€è¨º3F)</span>
                        <span class="location-item-arrow">â€º</span>
                    </div>
                    <div class="location-item" onclick="navigateTo('èƒ¸è…”å¤–ç§‘')">
                        <span class="location-item-text">èƒ¸è…”å¤–ç§‘ (æ¹–ç•”é–€è¨º2F)</span>
                        <span class="location-item-arrow">â€º</span>
                    </div>
                    <div class="location-item" onclick="navigateTo('ç¥ç¶“å¤–ç§‘')">
                        <span class="location-item-text">ç¥ç¶“å¤–ç§‘ (ä¸‰é–€è¨º3F)</span>
                        <span class="location-item-arrow">â€º</span>
                    </div>
                    <div class="location-item" onclick="navigateTo('éª¨ç§‘')">
                        <span class="location-item-text">éª¨ç§‘ (ä¸‰é–€è¨º2F)</span>
                        <span class="location-item-arrow">â€º</span>
                    </div>
                    <div class="location-item" onclick="navigateTo('æ³Œå°¿ç§‘')">
                        <span class="location-item-text">æ³Œå°¿ç§‘ (ä¸‰é–€è¨º4F)</span>
                        <span class="location-item-arrow">â€º</span>
                    </div>
                    <div class="location-item" onclick="navigateTo('æ•´å½¢å¤–ç§‘')">
                        <span class="location-item-text">æ•´å½¢å¤–ç§‘ (ä¸‰é–€è¨º5F)</span>
                        <span class="location-item-arrow">â€º</span>
                    </div>
                </div>
            </div>

            <div class="category-section">
                <div class="category-title">å©¦å…’ç§‘</div>
                <div class="location-list">
                    <div class="location-item" onclick="navigateTo('å©¦ç”¢ç§‘')">
                        <span class="location-item-text">å©¦ç”¢ç§‘ (äºŒé–€è¨º7F)</span>
                        <span class="location-item-arrow">â€º</span>
                    </div>
                    <div class="location-item" onclick="navigateTo('å…’ç«¥é–€è¨º')">
                        <span class="location-item-text">å…’ç«¥é–€è¨º (æ¹–ç•”é–€è¨º3F)</span>
                        <span class="location-item-arrow">â€º</span>
                    </div>
                </div>
            </div>

            <div class="category-section">
                <div class="category-title">å…¶ä»–å°ˆç§‘</div>
                <div class="location-list">
                    <div class="location-item" onclick="navigateTo('çœ¼ç§‘')">
                        <span class="location-item-text">çœ¼ç§‘ (ä¸‰é–€è¨º7F)</span>
                        <span class="location-item-arrow">â€º</span>
                    </div>
                    <div class="location-item" onclick="navigateTo('è€³é¼»å–‰ç§‘')">
                        <span class="location-item-text">è€³é¼»å–‰ç§‘ (äºŒé–€è¨º6F)</span>
                        <span class="location-item-arrow">â€º</span>
                    </div>
                    <div class="location-item" onclick="navigateTo('ç‰™ç§‘')">
                        <span class="location-item-text">ç‰™ç§‘é–€è¨º (ä¸‰é–€è¨º8F)</span>
                        <span class="location-item-arrow">â€º</span>
                    </div>
                    <div class="location-item" onclick="navigateTo('çš®è†šç§‘')">
                        <span class="location-item-text">çš®è†šç§‘ (ä¸‰é–€è¨º6F)</span>
                        <span class="location-item-arrow">â€º</span>
                    </div>
                    <div class="location-item" onclick="navigateTo('å¾©å¥ç§‘')">
                        <span class="location-item-text">å¾©å¥é†«å­¸ç§‘ (ä¸­æ­£æ¨“5F)</span>
                        <span class="location-item-arrow">â€º</span>
                    </div>
                    <div class="location-item" onclick="navigateTo('ç²¾ç¥ç§‘')">
                        <span class="location-item-text">ç²¾ç¥ç§‘ (äºŒé–€è¨º3F)</span>
                        <span class="location-item-arrow">â€º</span>
                    </div>
                    <div class="location-item" onclick="navigateTo('å®¶åº­é†«å­¸ç§‘')">
                        <span class="location-item-text">å®¶åº­é†«å­¸ç§‘ (ä¸€é–€è¨º3F)</span>
                        <span class="location-item-arrow">â€º</span>
                    </div>
                    <div class="location-item" onclick="navigateTo('ä¸­é†«ç§‘')">
                        <span class="location-item-text">ä¸­é†«ç§‘ (ä¸­æ­£æ¨“B1)</span>
                        <span class="location-item-arrow">â€º</span>
                    </div>
                </div>
            </div>

            <div class="category-section">
                <div class="category-title">æª¢æŸ¥èˆ‡æœå‹™</div>
                <div class="location-list">
                    <div class="location-item" onclick="navigateTo('é–€è¨ºæª¢é©—å®¤')">
                        <span class="location-item-text">é–€è¨ºæª¢é©—å®¤ (äºŒé–€è¨º1F)</span>
                        <span class="location-item-arrow">â€º</span>
                    </div>
                    <div class="location-item" onclick="navigateTo('æ”¾å°„ç§‘')">
                        <span class="location-item-text">æ”¾å°„ç§‘Xå…‰å®¤ (ä¸‰é–€è¨º2F)</span>
                        <span class="location-item-arrow">â€º</span>
                    </div>
                    <div class="location-item" onclick="navigateTo('CTæª¢æŸ¥å®¤')">
                        <span class="location-item-text">CTæª¢æŸ¥å®¤ (ä¸­æ­£æ¨“2F)</span>
                        <span class="location-item-arrow">â€º</span>
                    </div>
                    <div class="location-item" onclick="navigateTo('MRIæª¢æŸ¥å®¤')">
                        <span class="location-item-text">MRIæª¢æŸ¥å®¤ (ä¸­æ­£æ¨“2F)</span>
                        <span class="location-item-arrow">â€º</span>
                    </div>
                    <div class="location-item" onclick="navigateTo('å…§è¦–é¡ä¸­å¿ƒ')">
                        <span class="location-item-text">å…§è¦–é¡ä¸­å¿ƒ (ä¸‰é–€è¨º5F)</span>
                        <span class="location-item-arrow">â€º</span>
                    </div>
                    <div class="location-item" onclick="navigateTo('è—¥å±€')">
                        <span class="location-item-text">è—¥å±€ (ä¸‰é–€è¨º1F)</span>
                        <span class="location-item-arrow">â€º</span>
                    </div>
                    <div class="location-item" onclick="navigateTo('æ›è™Ÿæ«ƒæª¯')">
                        <span class="location-item-text">æ›è™Ÿæ«ƒæª¯ (ä¸‰é–€è¨º1F)</span>
                        <span class="location-item-arrow">â€º</span>
                    </div>
                    <div class="location-item" onclick="navigateTo('æ‰¹åƒ¹æ”¶è²»')">
                        <span class="location-item-text">æ‰¹åƒ¹æ”¶è²» (ä¸‰é–€è¨º1F)</span>
                        <span class="location-item-arrow">â€º</span>
                    </div>
                    <div class="location-item" onclick="navigateTo('æ€¥è¨º')">
                        <span class="location-item-text">æ€¥è¨ºå®¤ (ä¸­æ­£æ¨“1F)</span>
                        <span class="location-item-arrow">â€º</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Route Navigation Screen -->
    <div class="route-screen" id="routeScreen">
        <div class="route-header">
            <button class="back-btn" onclick="closeRoute()">â€¹</button>
            <div class="route-info">
                <div class="destination-name" id="destinationName">ç¬¬ä¸‰é–€è¨º 5F</div>
                <div class="route-stats">
                    <span id="routeDistance">ç´„180å…¬å°º</span> Â· 
                    <span id="routeTime">é è¨ˆ3åˆ†é˜</span>
                </div>
            </div>
        </div>

        <div class="route-map">
            <div class="floor-map">
                <div class="room">è—¥å±€</div>
                <div class="room">æ›è™Ÿ</div>
                <div class="room">æ‰¹åƒ¹</div>
                <div class="room">é›»æ¢¯</div>
                <div class="room">å€™è¨ºå€</div>
                <div class="room current">æ‚¨åœ¨é€™è£¡</div>
                <div class="room">æœå‹™å°</div>
                <div class="room">é›»æ¢¯</div>
                <div class="room">æª¢é©—å®¤</div>
                <div class="room">æ´—æ‰‹é–“</div>
                <div class="room">èµ°å»Š</div>
                <div class="room highlight">ç›®çš„åœ°</div>
            </div>
            
            <div class="current-location"></div>
            <div class="route-path path-vertical"></div>
            <div class="route-path path-horizontal"></div>
            <div class="destination-marker"></div>
        </div>

        <div class="route-instructions">
            <div class="instruction-item">
                <div class="instruction-icon">1</div>
                <div class="instruction-text">
                    <div class="instruction-title" id="step1Title">ç›´è¡Œ 50 å…¬å°º</div>
                    <div class="instruction-detail" id="step1Detail">æ²¿è‘—ç›®å‰èµ°å»Šç›´è¡Œ</div>
                </div>
            </div>
            <div class="instruction-item">
                <div class="instruction-icon">2</div>
                <div class="instruction-text">
                    <div class="instruction-title" id="step2Title">å³è½‰è‡³é›»æ¢¯å€</div>
                    <div class="instruction-detail" id="step2Detail">åœ¨æœå‹™å°å‰å³è½‰</div>
                </div>
            </div>
            <div class="instruction-item">
                <div class="instruction-icon">3</div>
                <div class="instruction-text">
                    <div class="instruction-title" id="step3Title">æ­ä¹˜é›»æ¢¯è‡³ 5 æ¨“</div>
                    <div class="instruction-detail" id="step3Detail">é¸æ“‡å¾€ä¸Šé›»æ¢¯</div>
                </div>
            </div>
            <div class="instruction-item">
                <div class="instruction-icon">âœ“</div>
                <div class="instruction-text">
                    <div class="instruction-title" id="step4Title">æŠµé”ç›®çš„åœ°</div>
                    <div class="instruction-detail" id="step4Detail">å‡ºé›»æ¢¯å¾Œå·¦è½‰å³å¯çœ‹åˆ°</div>
                </div>
            </div>
            <button class="arrival-btn" onclick="arrivedAtDestination()">
                <span id="arrivalBtnText">æˆ‘å·²æŠµé”</span>
            </button>
        </div>
    </div>

    <script>
        // Translations
        const translations = {
            'zh-TW': {
                welcomeTitle: 'å°åŒ—æ¦®æ°‘ç¸½é†«é™¢',
                appName: 'å®¤å…§å°èˆªç³»çµ±',
                btTitle: 'è«‹é–‹å•Ÿè—ç‰™åŠŸèƒ½',
                btDesc: 'ç‚ºäº†æä¾›ç²¾ç¢ºçš„å®¤å…§å®šä½æœå‹™ï¼Œ<br>ç³»çµ±éœ€è¦ä½¿ç”¨æ‚¨çš„è—ç‰™åŠŸèƒ½<br>ä¾†å®šä½æ‚¨åœ¨é†«é™¢å…§çš„ä½ç½®',
                btBtn: 'é–‹å•Ÿè—ç‰™',
                btSkip: 'ç¨å¾Œè¨­å®š',
                headerTitle: 'å®¤å…§å°èˆª',
                currentLang: 'ä¸­æ–‡',
                searchPlaceholder: 'è«‹è¼¸å…¥ç›®çš„åœ°...',
                quickTitle: 'å¸¸ç”¨åœ°é»',
                menuTitle: 'æ‰€æœ‰åœ°é»',
                currentLocation: 'ç¬¬ä¸€é–€è¨º 1æ¨“ æœå‹™å°é™„è¿‘',
                arrivalBtn: 'æˆ‘å·²æŠµé”',
                routeDistance: 'ç´„180å…¬å°º',
                routeTime: 'é è¨ˆ3åˆ†é˜',
                step1Title: 'ç›´è¡Œ 50 å…¬å°º',
                step1Detail: 'æ²¿è‘—ç›®å‰èµ°å»Šç›´è¡Œ',
                step2Title: 'å³è½‰è‡³é›»æ¢¯å€',
                step2Detail: 'åœ¨æœå‹™å°å‰å³è½‰',
                step3Title: 'æ­ä¹˜é›»æ¢¯è‡³ 5 æ¨“',
                step3Detail: 'é¸æ“‡å¾€ä¸Šé›»æ¢¯',
                step4Title: 'æŠµé”ç›®çš„åœ°',
                step4Detail: 'å‡ºé›»æ¢¯å¾Œå·¦è½‰å³å¯çœ‹åˆ°'
            },
            'en': {
                welcomeTitle: 'Taipei Veterans General Hospital',
                appName: 'Indoor Navigation System',
                btTitle: 'Please Enable Bluetooth',
                btDesc: 'To provide accurate indoor positioning,<br>the system needs to use your Bluetooth<br>to locate you within the hospital',
                btBtn: 'Enable Bluetooth',
                btSkip: 'Set Up Later',
                headerTitle: 'Indoor Navigation',
                currentLang: 'English',
                searchPlaceholder: 'Enter destination...',
                quickTitle: 'Quick Access',
                menuTitle: 'All Locations',
                currentLocation: 'Clinic 1, 1F Near Service Counter',
                arrivalBtn: 'I Have Arrived',
                routeDistance: 'About 180m',
                routeTime: 'Approx. 3 min',
                step1Title: 'Go straight 50m',
                step1Detail: 'Continue along current corridor',
                step2Title: 'Turn right to elevator',
                step2Detail: 'Turn right at service counter',
                step3Title: 'Take elevator to 5F',
                step3Detail: 'Select upward elevator',
                step4Title: 'Arrive at destination',
                step4Detail: 'Turn left after exiting elevator'
            },
            'ms': {
                welcomeTitle: 'Hospital Veteran Am Taipei',
                appName: 'Sistem Navigasi Dalaman',
                btTitle: 'Sila Aktifkan Bluetooth',
                btDesc: 'Untuk menyediakan perkhidmatan kedudukan dalaman yang tepat,<br>sistem memerlukan fungsi Bluetooth anda<br>untuk mengesan lokasi anda di hospital',
                btBtn: 'Aktifkan Bluetooth',
                btSkip: 'Tetapkan Kemudian',
                headerTitle: 'Navigasi Dalaman',
                currentLang: 'Melayu',
                searchPlaceholder: 'Masukkan destinasi...',
                quickTitle: 'Lokasi Kerap',
                menuTitle: 'Semua Lokasi',
                currentLocation: 'Klinik 1, Tingkat 1 Berhampiran Kaunter Perkhidmatan',
                arrivalBtn: 'Saya Telah Tiba',
                routeDistance: 'Kira-kira 180m',
                routeTime: 'Anggaran 3 minit',
                step1Title: 'Terus 50m',
                step1Detail: 'Teruskan di koridor semasa',
                step2Title: 'Belok kanan ke lif',
                step2Detail: 'Belok kanan di kaunter perkhidmatan',
                step3Title: 'Naik lif ke tingkat 5',
                step3Detail: 'Pilih lif ke atas',
                step4Title: 'Tiba di destinasi',
                step4Detail: 'Belok kiri selepas keluar dari lif'
            },
            'vi': {
                welcomeTitle: 'Bá»‡nh viá»‡n Tá»•ng há»£p Cá»±u chiáº¿n binh ÄÃ i Báº¯c',
                appName: 'Há»‡ thá»‘ng Äá»‹nh vá»‹ Trong nhÃ ',
                btTitle: 'Vui lÃ²ng Báº­t Bluetooth',
                btDesc: 'Äá»ƒ cung cáº¥p dá»‹ch vá»¥ Ä‘á»‹nh vá»‹ trong nhÃ  chÃ­nh xÃ¡c,<br>há»‡ thá»‘ng cáº§n sá»­ dá»¥ng Bluetooth cá»§a báº¡n<br>Ä‘á»ƒ xÃ¡c Ä‘á»‹nh vá»‹ trÃ­ trong bá»‡nh viá»‡n',
                btBtn: 'Báº­t Bluetooth',
                btSkip: 'Thiáº¿t láº­p Sau',
                headerTitle: 'Äá»‹nh vá»‹ Trong nhÃ ',
                currentLang: 'Tiáº¿ng Viá»‡t',
                searchPlaceholder: 'Nháº­p Ä‘iá»ƒm Ä‘áº¿n...',
                quickTitle: 'Äá»‹a Ä‘iá»ƒm ThÆ°á»ng dÃ¹ng',
                menuTitle: 'Táº¥t cáº£ Äá»‹a Ä‘iá»ƒm',
                currentLocation: 'PhÃ²ng khÃ¡m 1, Táº§ng 1 Gáº§n Quáº§y Dá»‹ch vá»¥',
                arrivalBtn: 'TÃ´i ÄÃ£ Äáº¿n NÆ¡i',
                routeDistance: 'Khoáº£ng 180m',
                routeTime: 'Æ¯á»›c tÃ­nh 3 phÃºt',
                step1Title: 'Äi tháº³ng 50m',
                step1Detail: 'Tiáº¿p tá»¥c dá»c hÃ nh lang hiá»‡n táº¡i',
                step2Title: 'Ráº½ pháº£i Ä‘áº¿n thang mÃ¡y',
                step2Detail: 'Ráº½ pháº£i táº¡i quáº§y dá»‹ch vá»¥',
                step3Title: 'Äi thang mÃ¡y lÃªn táº§ng 5',
                step3Detail: 'Chá»n thang mÃ¡y Ä‘i lÃªn',
                step4Title: 'Äáº¿n nÆ¡i',
                step4Detail: 'Ráº½ trÃ¡i sau khi ra khá»i thang mÃ¡y'
            }
        };

        let currentLanguage = 'zh-TW';
        let isVoiceRecording = false;

        function showLanguageSelector() {
            document.getElementById('languageSelector').style.display = 'block';
        }

        function selectLanguage(lang) {
            currentLanguage = lang;
            applyTranslations(lang);
            showScreen('bluetoothScreen');
        }

        function applyTranslations(lang) {
            const t = translations[lang];
            document.querySelector('.hospital-name').textContent = t.welcomeTitle;
            document.querySelector('.app-name').textContent = t.appName;
            document.getElementById('btTitle').textContent = t.btTitle;
            document.getElementById('btDesc').innerHTML = t.btDesc;
            document.getElementById('btBtnText').textContent = t.btBtn;
            document.getElementById('btSkipText').textContent = t.btSkip;
            document.getElementById('headerTitle').textContent = t.headerTitle;
            document.getElementById('currentLang').textContent = t.currentLang;
            document.getElementById('searchInput').placeholder = t.searchPlaceholder;
            document.getElementById('quickTitle').textContent = t.quickTitle;
            document.getElementById('menuTitle').textContent = t.menuTitle;
            document.getElementById('currentLocationLabel').textContent = t.currentLocation;
            document.getElementById('arrivalBtnText').textContent = t.arrivalBtn;
            document.getElementById('routeDistance').textContent = t.routeDistance;
            document.getElementById('routeTime').textContent = t.routeTime;
            document.getElementById('step1Title').textContent = t.step1Title;
            document.getElementById('step1Detail').textContent = t.step1Detail;
            document.getElementById('step2Title').textContent = t.step2Title;
            document.getElementById('step2Detail').textContent = t.step2Detail;
            document.getElementById('step3Title').textContent = t.step3Title;
            document.getElementById('step3Detail').textContent = t.step3Detail;
            document.getElementById('step4Title').textContent = t.step4Title;
            document.getElementById('step4Detail').textContent = t.step4Detail;
        }

        function showScreen(screenId) {
            document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
            document.getElementById(screenId).classList.add('active');
        }

        function enableBluetooth() {
            // Simulate bluetooth enabling
            alert(currentLanguage === 'zh-TW' ? 'è—ç‰™å·²é–‹å•Ÿï¼' : 
                  currentLanguage === 'en' ? 'Bluetooth enabled!' :
                  currentLanguage === 'ms' ? 'Bluetooth diaktifkan!' :
                  'Bluetooth Ä‘Ã£ Ä‘Æ°á»£c báº­t!');
            showScreen('navScreen');
        }

        function skipBluetooth() {
            showScreen('navScreen');
        }

        function showLanguageMenu() {
            showLanguageSelector();
        }

        function zoomIn() {
            const map = document.querySelector('.floor-map');
            const currentScale = map.style.transform ? parseFloat(map.style.transform.match(/scale\(([^)]+)\)/)?.[1] || 1) : 1;
            map.style.transform = `translate(-50%, -50%) scale(${Math.min(currentScale + 0.2, 2)})`;
        }

        function zoomOut() {
            const map = document.querySelector('.floor-map');
            const currentScale = map.style.transform ? parseFloat(map.style.transform.match(/scale\(([^)]+)\)/)?.[1] || 1) : 1;
            map.style.transform = `translate(-50%, -50%) scale(${Math.max(currentScale - 0.2, 0.6)})`;
        }

        function handleSearch(event) {
            if (event.key === 'Enter') {
                const searchTerm = event.target.value;
                if (searchTerm.trim()) {
                    navigateTo(searchTerm);
                }
            }
        }

        function startVoiceInput() {
            const voiceBtn = document.querySelector('.voice-btn');
            if (!isVoiceRecording) {
                isVoiceRecording = true;
                voiceBtn.style.background = '#e74c3c';
                
                // Simulate voice recognition
                const messages = {
                    'zh-TW': 'è«‹èªªå‡ºç›®çš„åœ°...',
                    'en': 'Please speak destination...',
                    'ms': 'Sila sebut destinasi...',
                    'vi': 'Vui lÃ²ng nÃ³i Ä‘iá»ƒm Ä‘áº¿n...'
                };
                alert(messages[currentLanguage]);
                
                setTimeout(() => {
                    isVoiceRecording = false;
                    voiceBtn.style.background = '#3498db';
                    
                    // Simulate recognized text
                    const samples = {
                        'zh-TW': 'å¿ƒè‡Ÿå…§ç§‘',
                        'en': 'Cardiology',
                        'ms': 'Kardiologi',
                        'vi': 'Khoa Tim máº¡ch'
                    };
                    document.getElementById('searchInput').value = samples[currentLanguage];
                    navigateTo(samples[currentLanguage]);
                }, 2000);
            }
        }

        function showMenu() {
            document.getElementById('menuModal').classList.add('active');
        }

        function closeMenu() {
            document.getElementById('menuModal').classList.remove('active');
        }

        function closeMenuIfOutside(event) {
            if (event.target.id === 'menuModal') {
                closeMenu();
            }
        }

        function navigateTo(destination) {
            closeMenu();
            
            const destNames = {
                'zh-TW': destination,
                'en': destination,
                'ms': destination,
                'vi': destination
            };
            
            document.getElementById('destinationName').textContent = destNames[currentLanguage];
            document.getElementById('routeScreen').classList.add('active');
            
            // Clear search input
            document.getElementById('searchInput').value = '';
        }

        function closeRoute() {
            document.getElementById('routeScreen').classList.remove('active');
        }

        function arrivedAtDestination() {
            const messages = {
                'zh-TW': 'å·²å®Œæˆå°èˆªï¼æ„Ÿè¬ä½¿ç”¨æœ¬ç³»çµ±ã€‚',
                'en': 'Navigation completed! Thank you for using the system.',
                'ms': 'Navigasi selesai! Terima kasih kerana menggunakan sistem.',
                'vi': 'HoÃ n thÃ nh Ä‘iá»u hÆ°á»›ng! Cáº£m Æ¡n báº¡n Ä‘Ã£ sá»­ dá»¥ng há»‡ thá»‘ng.'
            };
            alert(messages[currentLanguage]);
            closeRoute();
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            // Prevent double-tap zoom
            let lastTouchEnd = 0;
            document.addEventListener('touchend', function(event) {
                const now = Date.now();
                if (now - lastTouchEnd <= 300) {
                    event.preventDefault();
                }
                lastTouchEnd = now;
            }, false);
        });
    </script>
</body>
</html>