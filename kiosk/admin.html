<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="feticon.ico">
    
    <title>Kiosk ç®¡ç†å¾Œå° (å·²ä¿®æ­£)</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />

    <style>
        /* 1. åŸºæœ¬è¨­å®šèˆ‡å­—é«” */
        :root {
            --primary-color: #007bff;
            --primary-hover: #0056b3;
            --bg-color: #f4f7fa;
            --sidebar-bg: #ffffff;
            --card-bg: #ffffff;
            --border-color: #e3e8ee;
            --text-color: #333;
            --text-secondary: #666;
            --sidebar-width: 260px;
        }

        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&display=swap');

        body, html {
            margin: 0;
            padding: 0;
            height: 100%;
            width: 100%;
            font-family: "Noto Sans TC", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            overflow: hidden;
        }

        /* 2. ä¸»è¦ä½ˆå±€ (Sidebar + Content) */
        .admin-layout {
            display: flex;
            height: 100vh;
        }

        .sidebar {
            width: var(--sidebar-width);
            flex-shrink: 0;
            background-color: var(--sidebar-bg);
            border-right: 1px solid var(--border-color);
            padding: 24px;
            box-sizing: border-box;
            display: flex;
            flex-direction: column;
            overflow-y: auto;
        }

        .sidebar-header {
            display: flex;
            align-items: center;
            justify-content: space-between; 
            gap: 16px;
            padding-bottom: 24px;
            border-bottom: 1px solid var(--border-color);
            margin-bottom: 24px;
        }

        .sidebar-logo {
            max-height: 35px;
            width: auto;
            object-fit: contain;
        }

        .sidebar-nav, .sidebar-nav ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .sidebar-nav li {
            margin-bottom: 8px;
        }

        .sidebar-nav a {
            display: flex; 
            align-items: center; 
            padding: 12px 16px;
            text-decoration: none;
            color: var(--text-secondary);
            font-weight: 500;
            border-radius: 8px;
            transition: background-color 0.2s, color 0.2s;
        }

        .sidebar-nav a:hover {
            background-color: var(--bg-color);
            color: var(--text-color);
        }

        .sidebar-nav li.active > a {
            background-color: var(--primary-color);
            color: white;
        }
        
        .icon {
            width: 1.25rem;
            text-align: center;
            margin-right: 10px;
            flex-shrink: 0;
            font-size: 1rem;
        }

        /* å­é¸å–® */
        .submenu {
            padding-left: 20px;
            margin-top: 8px;
            display: none; /* é è¨­éš±è— */
        }

        .sidebar-nav li.active .submenu {
            display: block; /* Active æ™‚é¡¯ç¤º */
        }

        .submenu li a {
            padding-left: 24px;
            font-size: 0.9rem;
        }
        
        .submenu .icon {
            font-size: 0.9rem;
            width: 1.1rem;
        }

        .submenu li.active > a {
            background-color: #e6f2ff;
            color: var(--primary-color);
        }


        /* ä¸»å…§å®¹å€åŸŸ */
        .content {
            flex-grow: 1;
            padding: 32px;
            overflow-y: auto;
        }

        .page {
            display: none; /* æ‰€æœ‰é é¢é è¨­éš±è— */
        }

        .page.active {
            display: block; /* Active é é¢é¡¯ç¤º */
        }

        h1 {
            font-size: 2rem;
            font-weight: 700;
            margin-top: 0;
            margin-bottom: 24px;
        }
        
        /* ... (çœç•¥å…¶ä»– CSSï¼Œèˆ‡å‰ä¸€ç‰ˆç›¸åŒ) ... */
        .card { background-color: var(--card-bg); border: 1px solid var(--border-color); border-radius: 12px; padding: 24px; margin-bottom: 24px; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05); }
        .form-group { margin-bottom: 20px; }
        .form-group label { display: block; font-weight: 500; margin-bottom: 8px; }
        .form-group input[type="text"], .form-group input[type="password"], .form-group select, .form-group textarea { width: 100%; padding: 12px; border: 1px solid var(--border-color); border-radius: 8px; box-sizing: border-box; font-size: 1rem; }
        .form-group textarea { min-height: 120px; resize: vertical; }
        .btn { padding: 12px 20px; font-size: 1rem; font-weight: 500; border: none; border-radius: 8px; cursor: pointer; transition: background-color 0.2s, box-shadow 0.2s; }
        .btn-primary { background-color: var(--primary-color); color: white; box-shadow: 0 4px 8px rgba(0, 123, 255, 0.2); }
        .btn-primary:hover { background-color: var(--primary-hover); }
        .btn-secondary { background-color: #e9ecef; color: #333; }
        .btn-secondary:hover { background-color: #d1d5db; }
        .wizard-steps { display: flex; justify-content: space-between; margin-bottom: 24px; padding-bottom: 16px; border-bottom: 1px solid var(--border-color); }
        .wizard-step { flex: 1; text-align: center; padding: 8px; color: var(--text-secondary); font-weight: 500; border-bottom: 3px solid transparent; }
        .wizard-step.active { color: var(--primary-color); border-bottom-color: var(--primary-color); }
        .wizard-content { display: none; }
        .wizard-content.active { display: block; }
        .upload-box { border: 2px dashed var(--border-color); border-radius: 12px; padding: 48px; text-align: center; background-color: #fafafa; cursor: pointer; }
        .upload-box:hover { border-color: var(--primary-color); }
        .progress-bar { width: 100%; height: 20px; background-color: #e9ecef; border-radius: 10px; overflow: hidden; margin-top: 16px; }
        .progress-bar-inner { width: 0%; height: 100%; background-color: var(--primary-color); transition: width 0.5s; }
        .avatar-table { width: 100%; border-collapse: collapse; }
        .avatar-table th, .avatar-table td { padding: 16px; text-align: left; border-bottom: 1px solid var(--border-color); vertical-align: middle; }
        .avatar-table th { background-color: #f8f9fa; }
        .segmented-control { display: flex; background-color: #e9ecef; border-radius: 8px; padding: 4px; margin-bottom: 24px; }
        .segmented-control .tab { flex: 1; padding: 10px; text-align: center; font-weight: 500; border-radius: 6px; cursor: pointer; transition: background-color 0.2s, color 0.2s; }
        .segmented-control .tab.active { background-color: var(--card-bg); color: var(--primary-color); box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); }
        .dify-card { background-color: var(--card-bg); border: 1px solid var(--border-color); border-radius: 12px; margin-bottom: 24px; overflow: hidden; }
        .dify-card-header { padding: 20px 24px; background-color: #fcfcfc; border-bottom: 1px solid var(--border-color); }
        .dify-card-header h3 { margin: 0; font-size: 1.2rem; }
        .dify-card-content { padding: 24px; }
        .prompt-editor { font-family: 'Courier New', Courier, monospace; background-color: #fdfdfd; border: 1px solid var(--border-color); min-height: 200px; }
        .knowledge-list ul { list-style: none; padding: 0; }
        .knowledge-list li { display: flex; justify-content: space-between; align-items: center; padding: 12px; border: 1px solid var(--border-color); border-radius: 8px; margin-bottom: 8px; }
        .knowledge-list .doc-icon { margin-right: 12px; }
        .knowledge-list .btn-danger { background: #fbebee; color: #dc3545; font-size: 0.8rem; padding: 4px 8px; }
    </style>
</head>
<body>

    <div class="admin-layout">
        <nav class="sidebar">
            <div class="sidebar-header">
                <img src="fetlogo.png" alt="FET Logo" class="sidebar-logo">
                <img src="logocs.png" alt="CS Logo" class="sidebar-logo">
            </div>
            
            <ul class="sidebar-nav">
                <li class="active" data-page="avatar-settings">
                    <a href="#">
                        <i class="icon fa-solid fa-user"></i>
                        Avatar äººç‰©è¨­å®š
                    </a>
                    <ul class="submenu">
                        <li class="active" data-page="avatar-settings">
                            <a href="#">
                                <i class="icon fa-solid fa-list"></i>
                                Avatar è¨­å®š (æ‡‰ç”¨)
                            </a>
                        </li>
                        <li data-page="avatar-add">
                            <a href="#">
                                <i class="icon fa-solid fa-circle-plus"></i>
                                æ–°å¢ Avatar
                            </a>
                        </li>
                    </ul>
                </li>
                <li data-page="api-asr">
                    <a href="#">
                        <i class="icon fa-solid fa-gear"></i>
                        API ä»‹æ¥è¨­å®š
                    </a>
                    <ul class="submenu">
                        <li data-page="api-asr">
                            <a href="#">
                                <i class="icon fa-solid fa-microphone"></i>
                                ASR API è¨­å®š
                            </a>
                        </li>
                        <li data-page="api-tts">
                            <a href="#">
                                <i class="icon fa-solid fa-volume-high"></i>
                                TTS API è¨­å®š
                            </a>
                        </li>
                    </ul>
                </li>
                <li data-page="agent-settings">
                    <a href="#">
                        <i class="icon fa-solid fa-microchip"></i>
                        AI Agent æœå‹™è¨­å®š
                    </a>
                    <ul class="submenu">
                        <li data-page="agent-settings">
                            <a href="#">
                                <i class="icon fa-solid fa-wrench"></i>
                                æœå‹™è¨­å®š
                            </a>
                        </li>
                    </ul>
                </li>
                
                <li style="margin-top: 24px; border-top: 1px solid var(--border-color); padding-top: 16px;">
                    <a href="index.html" id="open-kiosk-link">
                        <i class="icon fa-solid fa-desktop"></i>
                        ç›®å‰å±•ç¤ºç•«é¢
                    </a>
                </li>
            </ul>
        </nav>

        <main class="content">

            <div class="page active" id="page-avatar-settings">
                <h1>Avatar è¨­å®šèˆ‡æ‡‰ç”¨</h1>
                <div class="card">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 16px;">
                        <h2>ç›®å‰çš„äººç‰©æ¨¡å‹</h2>
                        <button class="btn btn-primary" onclick="navigateTo('avatar-add')">+ æ–°å¢ Avatar</button>
                    </div>
                    
                    <table class="avatar-table">
                        <thead>
                            <tr>
                                <th>å•Ÿç”¨ (æ‡‰ç”¨)</th>
                                <th>é è¦½</th>
                                <th>æª”æ¡ˆåç¨±</th>
                                <th>ä¸Šå‚³æ—¥æœŸ</th>
                                <th>ç‹€æ…‹</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><input type="radio" name="active-avatar" checked></td>
                                <td>
                                    <video src="avatar3.jpg"
                                           style="width: 80px; height: 80px; object-fit: cover; border-radius: 8px;"
                                           autoplay loop muted playsinline>
                                    </video>
                                </td>
                                <td>avatar.mp4 (æ¸¬è©¦å½±ç‰‡)</td>
                                <td>2025-11-15</td>
                                <td><span style="color: green;">â— å·²å®Œæˆè¨“ç·´</span></td>
                            </tr>
                            <tr>
                                <td><input type="radio" name="active-avatar"></td>
                                <td><img src="avatar1.jpg" alt="Avatar" style="width: 80px; height: 80px; object-fit: cover; border-radius: 8px;"></td>
                                <td>avatar_male_01.mp4</td>
                                <td>2025-11-10</td>
                                <td><span style="color: green;">â— å·²å®Œæˆè¨“ç·´</span></td>
                            </tr>
                             <tr>
                                <td><input type="radio" name="active-avatar" disabled></td>
                                <td><img src="avatar2.jpg" alt="Avatar" style="width: 80px; height: 80px; object-fit: cover; border-radius: 8px;"></td>
                                <td>avatar_new_temp.mp4</td>
                                <td>2025-11-17</td>
                                <td><span style="color: orange;">â— å˜´å‹è¨“ç·´ä¸­...</span></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="page" id="page-avatar-add">
                <h1>æ–°å¢ Avatar</h1>
                <div class="card">
                    <div class="wizard-steps">
                        <div class="wizard-step active" data-step="1">1. ä¸Šå‚³äººç‰©å½±åƒ</div>
                        <div class="wizard-step" data-step="2">2. è¨“ç·´å˜´å‹</div>
                        <div class="wizard-step" data-step="3">3. å®Œæˆä¸Šå‚³</div>
                    </div>

                    <div class="wizard-content active" data-content="1">
                        <h2>ä¸Šå‚³äººç‰©å½±åƒæª”æ¡ˆ (MP4)</h2>
                        <p>è«‹ä¸Šå‚³ 1080x1920 (9:16) å°ºå¯¸çš„ MP4 å½±ç‰‡ï¼Œå»ºè­°é•·åº¦ç‚º 10-30 ç§’ã€‚</p>
                        <div class="upload-box" onclick="simulateUpload()">
                            <h3>é»æ“Šæ­¤è™•æˆ–æ‹–æ›³æª”æ¡ˆä¸Šå‚³</h3>
                            <p style="color: var(--text-secondary);">æ”¯æ´ .mp4, .mov æª”æ¡ˆ</p>
                        </div>
                        <div style="text-align: right; margin-top: 24px;">
                            <button class="btn btn-primary" onclick="wizardNext(1)">ä¸‹ä¸€æ­¥</button>
                        </div>
                    </div>
                    
                    <div class="wizard-content" data-content="2">
                        <h2>è¨“ç·´å˜´å‹</h2>
                        <p>ç³»çµ±æ­£åœ¨åˆ†ææ‚¨çš„å½±ç‰‡ä¸¦é€²è¡Œå˜´å‹åŒæ­¥è¨“ç·´ï¼Œè«‹ç¨å€™...</p>
                        <p id="progress-text">é€²åº¦ï¼š0%</p>
                        <div class="progress-bar">
                            <div class="progress-bar-inner" id="progress-bar"></div>
                        </div>
                        <div style="text-align: right; margin-top: 24px;">
                            <button class="btn btn-secondary" onclick="wizardNext(2, true)">è¿”å›ä¸Šä¸€æ­¥</button>
                            <button class="btn btn-primary" id="wizard-btn-2" disabled>ä¸‹ä¸€æ­¥ (è¨“ç·´ä¸­)</button>
                        </div>
                    </div>

                    <div class="wizard-content" data-content="3">
                        <div style="text-align: center; padding: 48px;">
                            <h2 style="color: green;">âœ“ ä¸Šå‚³ä¸¦è¨“ç·´å®Œæˆï¼</h2>
                            <p>æ‚¨çš„æ–° Avatar (avatar_new_temp.mp4) å·²ç¶“æº–å‚™å°±ç·’ã€‚</p>
                            <button class="btn btn-primary" onclick="navigateTo('avatar-settings')">è¿”å› Avatar è¨­å®š</button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="page" id="page-api-asr">
                <h1>ASR API ä»‹æ¥è¨­å®š</h1>
                <div class="card">
                    <h2>èªéŸ³è½‰æ–‡å­— (ASR) æœå‹™</h2>
                    <p>è¨­å®š Kiosk ç”¨ä¾†æ¥æ”¶ä½¿ç”¨è€…èªéŸ³çš„ APIã€‚</p>
                    <div class="form-group">
                        <label for="asr-provider">æœå‹™æä¾›å•†</label>
                        <select id="asr-provider">
                            <option value="google">Google Cloud Speech-to-Text</option>
                            <option value="azure">Azure Cognitive Services</option>
                            <option value="aws">Amazon Transcribe</option>
                            <option value="custom">è‡ªè¨‚ API ç«¯é»</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="asr-language">è¾¨è­˜èªè¨€</label>
                        <select id="asr-language">
                            <option value="zh-TW">ä¸­æ–‡ (å°ç£)</option>
                            <option value="en-US">è‹±èª (ç¾åœ‹)</option>
                            <option value="ms-MY">é¦¬ä¾†æ–‡</option>
                            <option value="vi-VN">è¶Šå—æ–‡</option>
                            <option value="ja-JP">æ—¥æ–‡</option>
                            <option value="fil-PH">è²å¾‹è³“æ–‡</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="asr-endpoint">API ç«¯é» (Endpoint URL)</label>
                        <input type="text" id="asr-endpoint" value="https://speech.googleapis.com/v1/speech:recognize">
                    </div>
                    <div class="form-group">
                        <label for="asr-key">API Key</label>
                        <input type="password" id="asr-key" value="************">
                    </div>
                    <div style="text-align: right;">
                        <button class="btn btn-primary">å„²å­˜è¨­å®š</button>
                    </div>
                </div>
            </div>

            <div class="page" id="page-api-tts">
                <h1>TTS API ä»‹æ¥è¨­å®š</h1>
                <div class="card">
                    <h2>æ–‡å­—è½‰èªéŸ³ (TTS) æœå‹™</h2>
                    <p>è¨­å®š Kiosk ç”¨ä¾†å›è¦†ä½¿ç”¨è€…è²éŸ³çš„ APIã€‚</p>
                    <div class="form-group">
                        <label for="tts-provider">æœå‹™æä¾›å•†</label>
                        <select id="tts-provider">
                            <option value="google">Google Cloud Text-to-Speech</option>
                            <option value="azure" selected>Azure Cognitive Services</option>
                            <option value="aws">Amazon Polly</option>
                            <option value="custom">è‡ªè¨‚ API ç«¯é»</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="tts-endpoint">API ç«¯é» (Endpoint URL)</label>
                        <input type="text" id="tts-endpoint" value="https://eastus.api.cognitive.microsoft.com/sts/v1.0/issuetoken">
                    </div>
                    <div class="form-group">
                        <label for="tts-key">API Key</label>
                        <input type="password" id="tts-key" value="************">
                    </div>
                    <div class="form-group">
                        <label for="tts-voice">èªéŸ³æ¨¡å‹ (Voice)</label>
                         <select id="tts-voice">
                            <optgroup label="ä¸­æ–‡ (å°ç£)">
                                <option value="zh-TW-HsiaoChen">zh-TW-HsiaoChenNeural (å¥³)</option>
                                <option value="zh-TW-YunJhe">zh-TW-YunJheNeural (ç”·)</option>
                            </optgroup>
                            <optgroup label="è‹±èª (ç¾åœ‹)">
                                <option value="en-US-Jenny">en-US-JennyNeural (å¥³)</option>
                                <option value="en-US-Guy">en-US-GuyNeural (ç”·)</option>
                            </optgroup>
                            <optgroup label="é¦¬ä¾†æ–‡">
                                <option value="ms-MY-Yasmin">ms-MY-YasminNeural (å¥³)</option>
                                <option value="ms-MY-Osman">ms-MY-OsmanNeural (ç”·)</option>
                            </optgroup>
                            <optgroup label="è¶Šå—æ–‡">
                                <option value="vi-VN-HoaiMy">vi-VN-HoaiMyNeural (å¥³)</option>
                                <option value="vi-VN-NamMinh">vi-VN-NamMinhNeural (ç”·)</option>
                            </optgroup>
                            <optgroup label="æ—¥æ–‡">
                                <option value="ja-JP-Nanami">ja-JP-NanamiNeural (å¥³)</option>
                                <option value="ja-JP-Keita">ja-JP-KeitaNeural (ç”·)</option>
                            </optgroup>
                            <optgroup label="è²å¾‹è³“æ–‡">
                                <option value="fil-PH-Blessica">fil-PH-BlessicaNeural (å¥³)</option>
                                <option value="fil-PH-Angelo">fil-PH-AngeloNeural (ç”·)</option>
                            </optgroup>
                        </select>
                    </div>
                    <div style="text-align: right;">
                        <button class="btn btn-primary">å„²å­˜è¨­å®š</button>
                    </div>
                </div>
            </div>
            
            <div class="page" id="page-agent-settings">
                <h1>AI Agent æœå‹™è¨­å®š</h1>
                
                <div class="segmented-control">
                    <div class="tab" data-tab="agent-api">AI Agent æœå‹™ API è¨­å®š(ä¸­å±±é†«å¤§)</div>
                    <div class="tab active" data-tab="agent-custom">AI Agent è‡ªè¨‚ç¾©æœå‹™ (Azure Cloud)</div>
                </div>

                <div class="tab-content" id="agent-api">
                    <div class="card">
                        <h2>AI Agent æœå‹™ API è¨­å®š</h2>
                        <p>å¦‚æœæ‚¨å·²ç¶“æœ‰è‡ªå»ºæˆ–å¤–éƒ¨çš„ AI Agent æœå‹™ (ä¾‹å¦‚ RAG API)ï¼Œè«‹åœ¨æ­¤è™•å¡«å…¥ä»‹æ¥è³‡è¨Šã€‚</p>
                         <div class="form-group">
                            <label for="agent-endpoint">API ç«¯é» (Endpoint URL)</label>
                            <input type="text" id="agent-endpoint" placeholder="https://your-agent-api.com/chat">
                        </div>
                        <div class="form-group">
                            <label for="agent-key">API Key (é¸å¡«)</label>
                            <input type="password" id="agent-key">
                        </div>
                        <div style="text-align: right;">
                            <button class="btn btn-primary">å„²å­˜è¨­å®š</button>
                        </div>
                    </div>
                </div>

                <div class="tab-content active" id="agent-custom">
                    
                    <div class="dify-card">
                        <div class="dify-card-header">
                            <h3>æç¤ºè© (Prompt)</h3>
                        </div>
                        <div class="dify-card-content">
                            <div class="form-group">
                                <label>ç³»çµ±æç¤ºè© (System Prompt)</label>
                                <textarea class="prompt-editor">ä½ æ˜¯ä¸€å€‹å°ˆæ¥­çš„é†«é™¢å°è¦½ AI åŠ©æ‰‹ã€‚
ä½ çš„ä»»å‹™æ˜¯ï¼š
1. å›ç­”ç—…æ‚£é—œæ–¼ã€Œé†«é™¢è¨­æ–½ã€ã€ã€Œçœ‹è¨ºæ™‚é–“ã€ã€ã€Œç§‘åˆ¥ä½ç½®ã€çš„å•é¡Œã€‚
2. ä½¿ç”¨å‹å–„ã€åŒç†å¿ƒçš„èªæ°£ã€‚
3. æ ¹æ“šæä¾›çš„ã€ŒçŸ¥è­˜åº«ã€å…§å®¹å›ç­”ï¼Œå¦‚æœçŸ¥è­˜åº«æ²’æœ‰ï¼Œè«‹å›ç­”ã€Œæˆ‘æš«æ™‚æ‰¾ä¸åˆ°é€™æ–¹é¢çš„è³‡è¨Šï¼Œè«‹æ´½è©¢æœå‹™å°ã€‚ã€

å¯ç”¨çš„è®Šæ•¸ï¼š
{{user_input}} - ä½¿ç”¨è€…çš„å•é¡Œ
{{history}} - æ­·å²å°è©±ç´€éŒ„
</textarea>
                            </div>
                        </div>
                    </div>

                    <div class="dify-card">
                        <div class="dify-card-header">
                            <h3>Knowledge æœå‹™è¨“ç·´ (çŸ¥è­˜åº«)</h3>
                        </div>
                        <div class="dify-card-content">
                            <p>é€£æ¥æ‚¨çš„è³‡æ–™ï¼Œè®“ AI èƒ½æ ¹æ“šæ‚¨çš„æ–‡ä»¶å›ç­”å•é¡Œã€‚</p>
                            <div class="knowledge-list">
                                <ul>
                                    <li>
                                        <span><span class="doc-icon">ğŸ“„</span> äºæ±é†«é™¢æ¨“å±¤å°è¦½.pdf</span>
                                        <button class="btn btn-danger">ç§»é™¤</button>
                                    </li>
                                     <li>
                                        <span><span class="doc-icon">ğŸ“„</span> çœ‹è¨ºæ™‚é–“èˆ‡å¸¸è¦‹QA.csv</span>
                                        <button class="btn btn-danger">ç§»é™¤</button>
                                    </li>
                                </ul>
                            </div>
                            <div style="margin-top: 16px;">
                                <button class="btn btn-secondary">+ ä¸Šå‚³æ–‡ä»¶</button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="dify-card">
                        <div class="dify-card-header">
                            <h3>AI æ¨¡å‹é¸å®šèˆ‡ LLM è¨“ç·´è¨­å®š</h3>
                        </div>
                        <div class="dify-card-content">
                            <div class="form-group">
                                <label for="llm-model">LLM æ¨¡å‹é¸å®š</label>
                                <select id="llm-model">
                                    <option value="gpt-4o">OpenAI - gpt-4o</option>
                                    <option value="gpt-4-turbo">OpenAI - gpt-4-turbo</option>
                                    <option value="claude-3-opus" selected>Anthropic - claude-3-opus</option>
                                    <option value="gemini-1.5-pro">Google - gemini-1.5-pro</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>Embedding æ¨¡å‹ (ç”¨æ–¼çŸ¥è­˜åº«è¨“ç·´)</label>
                                <select id="embedding-model">
                                    <option value="ada-002">OpenAI - text-embedding-ada-002</option>
                                    <option value="mxbai-embed" selected>mxbai-embed-large</option>
                                </select>
                            </div>
                            <div class="form-group">
                                 <label>Temperature (éš¨æ©Ÿæ€§ï¼Œ0 = åš´è¬¹, 1 = å‰µæ„)</label>
                                 <input type="range" min="0" max="1" step="0.1" value="0.3" style="width: 100%;">
                            </div>
                        </div>
                    </div>

                    <div style="text-align: right;">
                        <button class="btn btn-primary">å„²å­˜ä¸¦ç™¼ä½ˆ AI Agent</button>
                    </div>

                </div>

            </div>

        </main>
    </div>

    <script>
        // é é¢å°èˆªé‚è¼¯
        function navigateTo(pageId) {
            // è™•ç†é é¢é¡¯ç¤º
            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active');
            });
            document.getElementById(`page-${pageId}`).classList.add('active');

            // è™•ç†é¸å–® active ç‹€æ…‹
            document.querySelectorAll('.sidebar-nav li').forEach(li => {
                li.classList.remove('active');
            });

            const targetLink = document.querySelector(`.sidebar-nav [data-page="${pageId}"]`);
            if (targetLink) {
                targetLink.closest('li').classList.add('active');
                
                // å¦‚æœæ˜¯å­é¸å–®ï¼Œä¹Ÿè¦è®“çˆ¶é¸å–® active
                const parentLi = targetLink.closest('ul.submenu')?.closest('li');
                if (parentLi) {
                    parentLi.classList.add('active');
                }
            }
        }

        // å¹«æ‰€æœ‰ *å…§éƒ¨* é¸å–®é€£çµåŠ ä¸Šäº‹ä»¶
        document.querySelectorAll('.sidebar-nav a[data-page]').forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault(); 
                const pageId = link.parentElement.getAttribute('data-page');
                if (pageId) {
                    navigateTo(pageId);
                }
            });
        });

        // **** æ–°å¢ï¼šA. å½ˆå‡ºå¼è¦–çª— ****
        document.getElementById('open-kiosk-link').addEventListener('click', (e) => {
            e.preventDefault(); // é˜»æ­¢é è¨­çš„ target="_blank" è¡Œç‚º
            
            // Kiosk å°ºå¯¸ (9:16)
            const kioskWidth = 540;  // 1080 / 2
            const kioskHeight = 960; // 1920 / 2
            
            // è¨ˆç®—ç½®ä¸­ä½ç½®
            const left = (window.screen.width / 2) - (kioskWidth / 2);
            const top = (window.screen.height / 2) - (kioskHeight / 2);

            // é–‹å•Ÿç„¡ç‹€æ…‹åˆ—çš„å½ˆå‡ºè¦–çª—
            window.open(
                e.currentTarget.href, // é€£çµåˆ° index.html
                'kioskWindow', 
                `width=${kioskWidth},height=${kioskHeight},top=${top},left=${left},status=no,toolbar=no,location=no,menubar=no,resizable=yes,scrollbars=no`
            );
        });


        // æ¨¡æ“¬ Avatar ä¸Šå‚³å·«å¸«
        let currentStep = 1;
        function wizardNext(fromStep, isBack = false) {
            currentStep = isBack ? fromStep - 1 : fromStep + 1;
            
            // æ›´æ–°æ­¥é©Ÿæ¢
            document.querySelectorAll('.wizard-step').forEach(step => {
                const stepNum = parseInt(step.getAttribute('data-step'));
                if (stepNum === currentStep) {
                    step.classList.add('active');
                } else {
                    step.classList.remove('active');
                }
            });

            // æ›´æ–°å…§å®¹
            document.querySelectorAll('.wizard-content').forEach(content => {
                content.classList.remove('active');
            });
            document.querySelector(`.wizard-content[data-content="${currentStep}"]`).classList.add('active');
            
            // å¦‚æœæ˜¯åˆ°æ­¥é©Ÿ 2 (è¨“ç·´)ï¼Œæ¨¡æ“¬é€²åº¦æ¢
            if (currentStep === 2 && !isBack) {
                simulateTraining();
            }
        }
        
        function simulateUpload() {
            // æ¨¡æ“¬é»æ“Š input[type=file]
            alert("ï¼ˆæ¨¡æ“¬ï¼‰è«‹é¸æ“‡ä¸€å€‹ MP4 æª”æ¡ˆã€‚");
            // å¯¦éš›ä¸Šæ‚¨å¯ä»¥è§¸ç™¼ä¸€å€‹éš±è—çš„ <input type="file">
        }

        function simulateTraining() {
            let progress = 0;
            const progressBar = document.getElementById('progress-bar');
            const progressText = document.getElementById('progress-text');
            const nextButton = document.getElementById('wizard-btn-2');
            nextButton.disabled = true;
            nextButton.textContent = "ä¸‹ä¸€æ­¥ (è¨“ç·´ä¸­)";

            const interval = setInterval(() => {
                progress += Math.random() * 10;
                if (progress > 100) progress = 100;
                
                progressBar.style.width = progress + '%';
                progressText.textContent = `é€²åº¦ï¼š${Math.round(progress)}%`;

                if (progress === 100) {
                    clearInterval(interval);
                    progressText.textContent = "è¨“ç·´å®Œæˆï¼";
                    nextButton.disabled = false;
                    nextButton.textContent = "ä¸‹ä¸€æ­¥";
                }
            }, 300);
        }

        // AI Agent (Dify) é ç±¤åˆ‡æ›
        document.querySelectorAll('.segmented-control .tab').forEach(tab => {
            tab.addEventListener('click', () => {
                // åˆ‡æ› Tab æ¨£å¼
                document.querySelectorAll('.segmented-control .tab').forEach(t => t.classList.remove('active'));
                tab.classList.add('active');

                // åˆ‡æ›å…§å®¹é¡¯ç¤º
                const tabContentId = tab.getAttribute('data-tab');
                document.querySelectorAll('.tab-content').forEach(content => {
                    content.classList.remove('active');
                });
                document.getElementById(tabContentId).classList.add('active');
            });
        });

        // é è¨­è¼‰å…¥ç¬¬ä¸€å€‹é é¢
        document.addEventListener('DOMContentLoaded', () => {
            navigateTo('avatar-settings');
        });

    </script>

</body>
</html>
