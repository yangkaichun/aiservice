<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>åŒ—æŠ•æ™ºæ…§é è·ç²¾ç¥é†«ç™‚ç…§è­·å¹³å° - ç®¡ç†å¾Œå°</title>
    <link rel="icon" href="images/feticon.ico" type="image/x-icon">
    <!-- Bootstrap 5 & Icons -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <script>
        // è£ç½®åµæ¸¬ï¼šè‹¥æ˜¯æ‰‹æ©Ÿï¼Œè·³è½‰è‡³ mobile.html
        if(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)){
            window.location.href = "mobile.html";
        }
    </script>

    <style>
        :root {
            --sidebar-width: 260px;
            --primary-bg: #2c3e50;
            --active-bg: #34495e;
            --accent-color: #27ae60;
            --line-green: #06c755;
        }
        body { background-color: #f4f6f9; font-family: 'Microsoft JhengHei', sans-serif; overflow-x: hidden; }
        
        /* å´é‚Šæ¬„ */
        .sidebar {
            width: var(--sidebar-width);
            height: 100vh;
            position: fixed;
            top: 0;
            left: 0;
            background-color: var(--primary-bg);
            color: white;
            z-index: 1000;
            transition: 0.3s;
        }
        .sidebar-header { padding: 20px; text-align: center; border-bottom: 1px solid rgba(255,255,255,0.1); }
        .sidebar-header img { max-height: 45px; margin-bottom: 10px; }
        .nav-link { color: #b0b8c1; padding: 15px 25px; cursor: pointer; transition: 0.2s; }
        .nav-link:hover, .nav-link.active { color: white; background-color: var(--active-bg); border-left: 5px solid var(--accent-color); }
        .nav-link i { margin-right: 12px; width: 25px; text-align: center; }

        /* ä¸»å…§å®¹ */
        .main-content { margin-left: var(--sidebar-width); padding: 25px; min-height: 100vh; }
        .view-section { display: none; animation: fadeIn 0.3s; }
        .view-section.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* å¡ç‰‡èˆ‡å…ƒä»¶ */
        .card { border: none; box-shadow: 0 4px 12px rgba(0,0,0,0.05); border-radius: 10px; margin-bottom: 20px; }
        .card-header { background: white; font-weight: bold; border-bottom: 1px solid #f0f0f0; border-radius: 10px 10px 0 0 !important; padding: 15px 20px; }
        
        /* --- æ¨¡æ“¬æ‰‹æ©Ÿæ¨£å¼ (åµŒå…¥å¾Œå°ç”¨) --- */
        .phone-frame {
            width: 360px; height: 720px;
            background: #fff; border-radius: 35px;
            border: 12px solid #333;
            margin: 0 auto;
            position: relative; overflow: hidden;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            display: flex; flex-direction: column;
        }
        .phone-notch {
            position: absolute; top: 0; left: 50%; transform: translateX(-50%);
            width: 150px; height: 25px; background: #333;
            border-bottom-left-radius: 15px; border-bottom-right-radius: 15px; z-index: 10;
        }
        .line-header { background: #2c3e50; color: white; padding: 15px; padding-top: 35px; font-size: 14px; font-weight: bold; display: flex; align-items: center; justify-content: space-between; }
        .line-chat-area { flex: 1; background: #7289da2b; padding: 15px; overflow-y: auto; display: flex; flex-direction: column; gap: 15px; }
        .line-msg { max-width: 80%; padding: 10px 14px; border-radius: 18px; font-size: 13px; position: relative; line-height: 1.4; }
        .line-msg.ai { align-self: flex-start; background: white; color: #333; border-top-left-radius: 2px; }
        .line-msg.ai::before { content: 'å°æ¨¹'; position: absolute; top: -18px; left: 0; font-size: 10px; color: #666; }
        .line-msg.user { align-self: flex-end; background: var(--line-green); color: white; border-top-right-radius: 2px; }
        .line-footer { background: white; padding: 10px; border-top: 1px solid #eee; display: flex; align-items: center; gap: 8px; }
        .line-footer input { background: #f0f0f0; border: none; border-radius: 20px; padding: 8px 15px; font-size: 14px; }
    </style>
</head>
<body>

    <!-- å´é‚Šé¸å–® -->
    <div class="sidebar">
        <div class="sidebar-header">
            <img src="images/fetlogo.png" alt="FET Logo" onerror="this.src='https://via.placeholder.com/150x50?text=FET+Health'">
            <div class="small text-muted" style="font-size: 0.8rem;">åŒ—æŠ•æ™ºæ…§å…±ç…§é›²</div>
        </div>
        <nav class="nav flex-column mt-3">
            <div class="nav-link active" onclick="switchView('dashboard')"><i class="fas fa-tachometer-alt"></i> ç¸½è¦½å„€è¡¨æ¿</div>
            <div class="nav-link" onclick="switchView('cases')"><i class="fas fa-users"></i> å€‹æ¡ˆç®¡ç†åˆ—è¡¨</div>
            <div class="nav-link" onclick="switchView('trends')"><i class="fas fa-chart-line"></i> ç”Ÿç†æ•¸æ“šè¶¨å‹¢</div>
            <div class="nav-link" onclick="switchView('audit')"><i class="fas fa-file-medical-alt"></i> AI å°è©±ç¨½æ ¸</div>
            <div class="nav-link" onclick="switchView('training')"><i class="fas fa-brain"></i> AI çŸ¥è­˜åº«è¨“ç·´</div>
            <div class="nav-link" onclick="switchView('liff')"><i class="fab fa-line"></i> LINE LIFF ç®¡ç†</div>
            <!-- åŸå…ˆçš„LINEæ¨¡æ“¬ç•«é¢æ•´åˆåœ¨æ­¤ -->
            <div class="nav-link text-warning" onclick="switchView('simulator')"><i class="fas fa-mobile-alt"></i> å‰ç«¯æ¨¡æ“¬é è¦½</div>
            <div class="nav-link" onclick="switchView('settings')"><i class="fas fa-cog"></i> ç³»çµ±è¨­å®š</div>
        </nav>
    </div>

    <!-- ä¸»å…§å®¹å€ -->
    <div class="main-content">
        <!-- é ‚éƒ¨è³‡è¨Šåˆ— -->
        <div class="d-flex justify-content-between align-items-center mb-4">
            <h4 class="fw-bold text-dark" id="page-title">ç¸½è¦½å„€è¡¨æ¿</h4>
            <div class="d-flex align-items-center">
                <span class="badge bg-success me-3">ç³»çµ±é€£ç·šæ­£å¸¸</span>
                <div class="text-end me-3">
                    <div class="fw-bold">Dr. Chen</div>
                    <small class="text-muted">å€‹æ¡ˆç®¡ç†å¸«</small>
                </div>
                <div class="bg-secondary rounded-circle text-white d-flex align-items-center justify-content-center" style="width: 40px; height: 40px;">C</div>
            </div>
        </div>

        <!-- 1. Dashboard -->
        <div id="view-dashboard" class="view-section active">
            <div class="row g-4">
                <div class="col-md-3">
                    <div class="card p-3 border-start border-5 border-danger">
                        <small class="text-muted fw-bold">ä»Šæ—¥é«˜é¢¨éšªå€‹æ¡ˆ</small>
                        <h2 class="text-danger fw-bold my-2">3</h2>
                        <small class="text-danger"><i class="fas fa-arrow-up"></i> è¼ƒæ˜¨æ—¥ +1</small>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="card p-3 border-start border-5 border-primary">
                        <small class="text-muted fw-bold">ä»Šæ—¥ AI å°è©±æ•¸</small>
                        <h2 class="text-primary fw-bold my-2">452</h2>
                        <small class="text-success"><i class="fas fa-check"></i> ç³»çµ±å›æ‡‰ç‡ 100%</small>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="card p-3 border-start border-5 border-warning">
                        <small class="text-muted fw-bold">æœªæœè—¥è­¦ç¤º</small>
                        <h2 class="text-warning fw-bold my-2">8</h2>
                        <small class="text-muted">å·²è‡ªå‹•æ¨æ’­æé†’</small>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="card p-3 border-start border-5 border-success">
                        <small class="text-muted fw-bold">æœ¬æœˆæ”¶æ¡ˆç¸½æ•¸</small>
                        <h2 class="text-success fw-bold my-2">128</h2>
                        <small class="text-success">é”æˆç‡ 92%</small>
                    </div>
                </div>
            </div>
            <div class="row mt-4">
                <div class="col-lg-8">
                    <div class="card h-100">
                        <div class="card-header">æ¯é€±ç—…æ‚£æƒ…ç·’æŒ‡æ•¸èˆ‡æœè—¥è¶¨å‹¢</div>
                        <div class="card-body">
                            <canvas id="mainChart" style="max-height: 300px;"></canvas>
                        </div>
                    </div>
                </div>
                <div class="col-lg-4">
                    <div class="card h-100">
                        <div class="card-header">å¾…è¾¦äº‹é …</div>
                        <div class="list-group list-group-flush">
                            <a href="#" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                <div><span class="badge bg-danger me-2">ç·Šæ€¥</span>P-001 ç‹å…ˆç”Ÿ è‡ªæ®ºé¢¨éšªè©•ä¼°</div>
                                <i class="fas fa-chevron-right text-muted"></i>
                            </a>
                            <a href="#" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                <div><span class="badge bg-warning me-2">è¿½è¹¤</span>P-042 æ—å°å§ é€£çºŒå¤±çœ </div>
                                <i class="fas fa-chevron-right text-muted"></i>
                            </a>
                            <a href="#" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                <div><span class="badge bg-info me-2">å¯©æ ¸</span>æ–°é€²å€‹æ¡ˆè³‡æ–™å¯©æ ¸ (5)</div>
                                <i class="fas fa-chevron-right text-muted"></i>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 2. Cases -->
        <div id="view-cases" class="view-section">
            <div class="card">
                <div class="card-header d-flex justify-content-between align-items-center">
                    <span>å€‹æ¡ˆç®¡ç†åˆ—è¡¨</span>
                    <button class="btn btn-sm btn-primary"><i class="fas fa-file-export"></i> åŒ¯å‡ºå ±è¡¨</button>
                </div>
                <div class="card-body">
                    <table class="table table-hover align-middle">
                        <thead class="table-light">
                            <tr>
                                <th>ç‹€æ…‹</th>
                                <th>ç—…æ­·è™Ÿ</th>
                                <th>å§“å</th>
                                <th>è¨ºæ–·</th>
                                <th>AI æ¨™ç±¤</th>
                                <th>æœ€è¿‘ç”Ÿç†æ•¸æ“š</th>
                                <th>æ“ä½œ</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><span class="badge bg-danger">é«˜é¢¨éšª</span></td>
                                <td>A-10293</td>
                                <td>é™³â—‹è±ª</td>
                                <td>é›™ç›¸æƒ…ç·’éšœç¤™</td>
                                <td><span class="text-danger small"><i class="fas fa-exclamation-triangle"></i> è‡ªå‚·æ„å¿µ</span></td>
                                <td>HR: 98 | BP: 140/90</td>
                                <td><button class="btn btn-sm btn-outline-secondary">æŸ¥çœ‹</button></td>
                            </tr>
                            <tr>
                                <td><span class="badge bg-success">ç©©å®š</span></td>
                                <td>B-20481</td>
                                <td>æ—â—‹å©·</td>
                                <td>å»£æ³›æ€§ç„¦æ…®ç—‡</td>
                                <td><span class="text-success small">æœè—¥è¦å¾‹</span></td>
                                <td>HR: 72 | BP: 118/75</td>
                                <td><button class="btn btn-sm btn-outline-secondary">æŸ¥çœ‹</button></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- 3. Trends -->
        <div id="view-trends" class="view-section">
            <div class="card">
                <div class="card-header">ç”Ÿç†æ•¸æ“šèˆ‡æƒ…ç·’è¶¨å‹¢åˆ†æ</div>
                <div class="card-body">
                    <div class="row mb-4">
                        <div class="col-md-4">
                            <label class="form-label">é¸æ“‡å€‹æ¡ˆ</label>
                            <select class="form-select">
                                <option>A-10293 é™³â—‹è±ª</option>
                                <option>B-20481 æ—â—‹å©·</option>
                            </select>
                        </div>
                        <div class="col-md-4">
                            <label class="form-label">æ•¸æ“šé¡å‹</label>
                            <select class="form-select">
                                <option>è¡€å£“/å¿ƒè·³</option>
                                <option>ç¡çœ æ™‚æ•¸</option>
                                <option>PHQ-9 åˆ†æ•¸</option>
                            </select>
                        </div>
                        <div class="col-md-4 d-flex align-items-end">
                            <button class="btn btn-primary w-100">æŸ¥è©¢</button>
                        </div>
                    </div>
                    <canvas id="trendChart" height="100"></canvas>
                </div>
            </div>
        </div>

        <!-- 4. Audit -->
        <div id="view-audit" class="view-section">
            <div class="card">
                <div class="card-header bg-warning bg-opacity-10">
                    <i class="fas fa-robot text-warning me-2"></i>AI å°è©±é¢¨éšªç¨½æ ¸
                </div>
                <div class="card-body">
                    <div class="alert alert-info">
                        <i class="fas fa-info-circle"></i> ç³»çµ±æœƒè‡ªå‹•æ¨™è¨˜å°è©±ä¸­çš„æ½›åœ¨é¢¨éšªé—œéµå­—ï¼ˆè‡ªæ®ºã€è‡ªå‚·ã€æš´åŠ›ã€ä¸­æ–·æ²»ç™‚ï¼‰ã€‚
                    </div>
                    <div class="list-group">
                        <a href="#" class="list-group-item list-group-item-action" aria-current="true">
                            <div class="d-flex w-100 justify-content-between">
                                <h6 class="mb-1 text-danger fw-bold"><i class="fas fa-flag"></i> é¢¨éšªç­‰ç´šï¼šé«˜</h6>
                                <small>10 åˆ†é˜å‰</small>
                            </div>
                            <p class="mb-1">å€‹æ¡ˆ A-10293ï¼šæåŠã€Œä¸æƒ³æ´»äº†ã€ã€ã€Œè¦ºå¾—ç´¯ã€ã€‚</p>
                            <small class="text-muted">AI è™•ç½®ï¼šå·²è§¸ç™¼è‡ªæ®ºé˜²æ²»å›æ‡‰è…³æœ¬ï¼Œä¸¦æ¨æ’­é€šçŸ¥å€‹ç®¡å¸«ã€‚</small>
                        </a>
                        <a href="#" class="list-group-item list-group-item-action">
                            <div class="d-flex w-100 justify-content-between">
                                <h6 class="mb-1 text-warning fw-bold"><i class="fas fa-flag"></i> é¢¨éšªç­‰ç´šï¼šä¸­</h6>
                                <small>3 å°æ™‚å‰</small>
                            </div>
                            <p class="mb-1">å€‹æ¡ˆ B-20481ï¼šè©¢å•ã€Œå¦‚æœæŠŠè—¥å…¨éƒ¨åƒæ‰æœƒæ€æ¨£ã€ã€‚</p>
                            <small class="text-muted">AI è™•ç½®ï¼šè¾¨è­˜ç‚ºè—¥ç‰©æ¿«ç”¨é¢¨éšªï¼Œå·²å»ºè­°å°±é†«ã€‚</small>
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <!-- 5. Training (NEW) -->
        <div id="view-training" class="view-section">
            <div class="row">
                <div class="col-md-6">
                    <div class="card h-100">
                        <div class="card-header bg-dark text-white"><i class="fas fa-brain"></i> AI çŸ¥è­˜åº«æ¨¡å‹è¨“ç·´</div>
                        <div class="card-body">
                            <h6 class="fw-bold">1. ç³»çµ±æç¤ºè© (System Prompt)</h6>
                            <textarea class="form-control mb-3" rows="5">ä½ æ˜¯ä¸€å€‹å°ˆæ¥­çš„ç²¾ç¥ç§‘è¼”åŠ©AIï¼Œåå«å°æ¨¹ã€‚ä½ çš„èªæ°£æº«æš–ã€æ”¯æŒä¸”ä¸å¸¶æ‰¹åˆ¤ã€‚ç•¶ä½¿ç”¨è€…è¡¨é”è‡ªæ®ºæ„å¿µæ™‚ï¼Œä½ å¿…é ˆç«‹å³æä¾›å®‰å¿ƒå°ˆç·š 1925 è³‡è¨Šï¼Œä¸¦å®‰æ’«ä½¿ç”¨è€…æƒ…ç·’ã€‚è«‹å‹¿çµ¦äºˆé†«ç™‚è¨ºæ–·ã€‚</textarea>
                            <button class="btn btn-outline-primary btn-sm mb-4">æ›´æ–° Prompt</button>

                            <h6 class="fw-bold">2. RAG çŸ¥è­˜åº«æ–‡ä»¶ä¸Šå‚³</h6>
                            <div class="input-group mb-3">
                                <input type="file" class="form-control" id="inputGroupFile02">
                                <button class="btn btn-primary" type="button">ä¸Šå‚³ä¸¦è¨“ç·´</button>
                            </div>
                            <small class="text-muted">æ”¯æ´ PDF, DOCX, TXT æ ¼å¼ã€‚ä¸Šå‚³å¾Œç³»çµ±å°‡è‡ªå‹•é€²è¡Œå‘é‡åŒ–è™•ç†ã€‚</small>
                        </div>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="card h-100">
                        <div class="card-header">è¨“ç·´ç‹€æ…‹ç›£æ§</div>
                        <div class="card-body">
                            <table class="table table-sm">
                                <thead>
                                    <tr>
                                        <th>æª”æ¡ˆåç¨±</th>
                                        <th>ä¸Šå‚³æ™‚é–“</th>
                                        <th>ç‹€æ…‹</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>è‡ªæ®ºé˜²æ²»æ‰‹å†Š_2024.pdf</td>
                                        <td>2024/01/10</td>
                                        <td><span class="badge bg-success">å·²ç”Ÿæ•ˆ</span></td>
                                    </tr>
                                    <tr>
                                        <td>å¸¸ç”¨è—¥ç‰©äº¤äº’ä½œç”¨è¡¨.xlsx</td>
                                        <td>2024/02/01</td>
                                        <td><span class="badge bg-success">å·²ç”Ÿæ•ˆ</span></td>
                                    </tr>
                                    <tr>
                                        <td>æ–°ç‰ˆå¿ƒç†é‡è¡¨èªªæ˜.docx</td>
                                        <td>å‰›å‰›</td>
                                        <td><span class="badge bg-warning text-dark">å‘é‡åŒ–ä¸­...</span></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 6. LIFF (NEW) -->
        <div id="view-liff" class="view-section">
            <div class="card">
                <div class="card-header bg-success text-white"><i class="fab fa-line"></i> LINE LIFF èˆ‡ Rich Menu ç®¡ç†</div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-5 d-flex justify-content-center align-items-center bg-light border rounded">
                            <!-- åœ–æ–‡é¸å–®æ¨¡æ“¬ -->
                            <div class="text-center p-5">
                                <h6 class="text-muted mb-4">Rich Menu é è¦½</h6>
                                <div class="d-grid gap-2" style="width: 200px;">
                                    <div class="row g-1">
                                        <div class="col-6"><button class="btn btn-outline-secondary w-100 py-3">ç”Ÿç†é‡æ¸¬</button></div>
                                        <div class="col-6"><button class="btn btn-outline-secondary w-100 py-3">AI é™ªä¼´</button></div>
                                        <div class="col-6"><button class="btn btn-outline-secondary w-100 py-3">è¦–è¨Šçœ‹è¨º</button></div>
                                        <div class="col-6"><button class="btn btn-outline-secondary w-100 py-3">è¡›æ•™è³‡è¨Š</button></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-7">
                            <h5 class="fw-bold mb-3">LIFF Endpoint è¨­å®š</h5>
                            <form>
                                <div class="mb-3">
                                    <label class="form-label">ç”Ÿç†é‡æ¸¬ LIFF ID</label>
                                    <input type="text" class="form-control" value="1657099999-AbCdEfG">
                                </div>
                                <div class="mb-3">
                                    <label class="form-label">AI èŠå¤© LIFF ID</label>
                                    <input type="text" class="form-control" value="1657099999-HijklMn">
                                </div>
                                <div class="mb-3">
                                    <label class="form-label">ç›®æ¨™ç¶²å€ (Target URL)</label>
                                    <input type="text" class="form-control" value="https://beitou-care-cloud.com.tw/mobile">
                                </div>
                                <hr>
                                <button class="btn btn-success">åŒæ­¥è‡³ LINE Developer Console</button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 7. Simulator (åŸå…ˆ LINE æ¨¡æ“¬ç•«é¢) -->
        <div id="view-simulator" class="view-section">
            <div class="row justify-content-center">
                <div class="col-lg-5">
                    <div class="phone-frame">
                        <div class="phone-notch"></div>
                        <div class="line-header">
                            <div><i class="fas fa-chevron-left"></i> å°æ¨¹ (AI)</div>
                            <div><i class="fas fa-search"></i> <i class="fas fa-bars"></i></div>
                        </div>
                        <div class="line-chat-area" id="sim-chat-box">
                            <div class="text-center text-muted small my-2">ä»Šå¤©</div>
                            <div class="line-msg ai">æ—©å®‰ï¼æˆ‘æ˜¯å°æ¨¹ï¼ŒåŒ—æŠ•é†«é™¢çš„ AI å€‹ç®¡å¸«ã€‚ä»Šå¤©å¿ƒæƒ…é‚„å¥½å—ï¼ŸğŸ˜Š</div>
                        </div>
                        <div class="line-footer">
                            <i class="fas fa-plus text-primary"></i>
                            <i class="fas fa-camera text-secondary"></i>
                            <input type="text" id="sim-input" class="flex-fill" placeholder="è¼¸å…¥è¨Šæ¯...">
                            <i class="fas fa-smile text-secondary"></i>
                            <button class="btn btn-sm btn-primary rounded-circle" onclick="sendSimMessage()"><i class="fas fa-paper-plane"></i></button>
                        </div>
                    </div>
                    <div class="text-center mt-3 text-muted">
                        <p><i class="fas fa-info-circle"></i> æ­¤ç‚ºå‰ç«¯æ¨¡æ“¬å™¨ï¼Œæ‚¨çš„è¼¸å…¥å°‡å³æ™‚ç¶“é Java å¾Œç«¯ AI è™•ç†ä¸¦è¿”å›çµæœã€‚</p>
                        <p>å¯ç”¨æ¸¬è©¦é—œéµå­—ï¼š<strong>ã€Œä¸æƒ³æ´»äº†ã€ã€ã€Œåƒè—¥ã€ã€ã€Œç¡ä¸è‘—ã€</strong></p>
                    </div>
                </div>
            </div>
        </div>

        <!-- 8. Settings -->
        <div id="view-settings" class="view-section">
            <div class="card">
                <div class="card-header">ç³»çµ±åå¥½è¨­å®š</div>
                <div class="card-body">
                    <form>
                        <div class="mb-3 row">
                            <label class="col-sm-2 col-form-label">å¹³å°åç¨±</label>
                            <div class="col-sm-10">
                                <input type="text" class="form-control" value="åŒ—æŠ•æ™ºæ…§é è·ç²¾ç¥é†«ç™‚ç…§è­·å¹³å°">
                            </div>
                        </div>
                        <div class="mb-3 row">
                            <label class="col-sm-2 col-form-label">è­¦ç¤ºé–¾å€¼</label>
                            <div class="col-sm-10">
                                <input type="range" class="form-range" min="0" max="100" value="80">
                                <div class="form-text">ç•¶ AI åˆ¤æ–·é¢¨éšªä¿‚æ•¸è¶…é 80% æ™‚è§¸ç™¼ç´…ç‡ˆã€‚</div>
                            </div>
                        </div>
                        <button class="btn btn-primary">å„²å­˜è¨­å®š</button>
                    </form>
                </div>
            </div>
        </div>

    </div>

    <script>
        // åˆ‡æ›è¦–åœ–é‚è¼¯
        function switchView(viewId) {
            document.querySelectorAll('.nav-link').forEach(l => l.classList.remove('active'));
            event.currentTarget.classList.add('active');
            
            document.querySelectorAll('.view-section').forEach(s => s.classList.remove('active'));
            document.getElementById('view-' + viewId).classList.add('active');

            // æ›´æ–°æ¨™é¡Œ
            const titles = {
                'dashboard': 'ç¸½è¦½å„€è¡¨æ¿',
                'cases': 'å€‹æ¡ˆç®¡ç†åˆ—è¡¨',
                'trends': 'ç”Ÿç†æ•¸æ“šè¶¨å‹¢',
                'audit': 'AI å°è©±ç¨½æ ¸',
                'training': 'AI çŸ¥è­˜åº«è¨“ç·´',
                'liff': 'LINE LIFF ç®¡ç†',
                'simulator': 'å‰ç«¯æ¨¡æ“¬é è¦½ (Live Demo)',
                'settings': 'ç³»çµ±è¨­å®š'
            };
            document.getElementById('page-title').innerText = titles[viewId];
        }

        // åˆå§‹åŒ–åœ–è¡¨
        const ctx = document.getElementById('mainChart').getContext('2d');
        new Chart(ctx, {
            type: 'line',
            data: {
                labels: ['é€±ä¸€', 'é€±äºŒ', 'é€±ä¸‰', 'é€±å››', 'é€±äº”', 'é€±å…­', 'é€±æ—¥'],
                datasets: [{
                    label: 'æœè—¥ä¾å¾æ€§ (%)',
                    data: [85, 88, 85, 90, 82, 78, 85],
                    borderColor: '#27ae60',
                    tension: 0.3
                }, {
                    label: 'å¹³å‡æƒ…ç·’æŒ‡æ•¸ (1-10)',
                    data: [6, 7, 7, 8, 5, 4, 6],
                    borderColor: '#3498db',
                    tension: 0.3,
                    yAxisID: 'y1'
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    y: { max: 100 },
                    y1: { position: 'right', max: 10 }
                }
            }
        });

        // æ¨¡æ“¬å™¨èŠå¤©é‚è¼¯
        function sendSimMessage() {
            const input = document.getElementById('sim-input');
            const text = input.value.trim();
            if (!text) return;

            const chatBox = document.getElementById('sim-chat-box');
            
            // User Msg
            chatBox.innerHTML += `<div class="line-msg user align-self-end my-2">${text}</div>`;
            input.value = '';
            chatBox.scrollTop = chatBox.scrollHeight;

            // AI Logic
            setTimeout(() => {
                let reply = "æ”¶åˆ°ï¼Œæˆ‘æœƒè¨˜éŒ„ä¸‹ä¾†ã€‚";
                if(text.includes('æ­»') || text.includes('ä¸æƒ³æ´»')) reply = "æˆ‘è½å¾—å‡ºä¾†ä½ ç¾åœ¨å¾ˆç—›è‹¦ã€‚è«‹è¨˜å¾—ï¼Œæˆ‘å€‘éƒ½åœ¨é€™è£¡é™ªä½ ã€‚è‹¥æœ‰ç·Šæ€¥ç‹€æ³ï¼Œè«‹æ’¥æ‰“ 1925ã€‚";
                else if(text.includes('è—¥')) reply = "è—¥ç‰©èƒ½å¹«åŠ©å¤§è…¦ç©©å®šã€‚å¦‚æœæœ‰å‰¯ä½œç”¨ï¼Œæˆ‘å€‘ä¸‹æ¬¡é–€è¨ºè·Ÿé†«ç”Ÿè¨è«–å¥½å—ï¼Ÿ";
                else if(text.includes('ç¡')) reply = "å¤±çœ çœŸçš„å¾ˆé›£å—ã€‚ä»Šæ™šè©¦è©¦çœ‹è…¹å¼å‘¼å¸ï¼Œæ”¾é¬†ä¸€ä¸‹ï¼Ÿ";

                chatBox.innerHTML += `<div class="line-msg ai align-self-start my-2">${reply}</div>`;
                chatBox.scrollTop = chatBox.scrollHeight;
            }, 800);
        }
        
        // ç¶å®š Enter éµ
        document.getElementById('sim-input').addEventListener('keypress', function (e) {
            if (e.key === 'Enter') sendSimMessage();
        });
    </script>
</body>
</html>