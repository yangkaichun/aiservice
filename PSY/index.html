<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>北投智慧遠距精神醫療照護平台 - 管理後台</title>
    <!-- Favicon -->
    <link rel="icon" href="images/feticon.ico" type="image/x-icon">
    
    <!-- Libraries -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- SweetAlert2 for nice alerts -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

    <style>
        /* --- 視覺系統 (Medical Teal & Clean White) --- */
        :root {
            --primary: #00897b;
            --primary-light: #e0f2f1;
            --secondary: #0288d1;
            --dark: #2c3e50;
            --bg: #f4f6f9;
            --sidebar-w: 260px;
        }

        body { background-color: var(--bg); font-family: 'Segoe UI', 'Microsoft JhengHei', sans-serif; color: var(--dark); overflow-x: hidden; }

        /* Sidebar */
        .sidebar { width: var(--sidebar-w); height: 100vh; position: fixed; top: 0; left: 0; background: #fff; border-right: 1px solid #eee; z-index: 1000; display: flex; flex-direction: column; box-shadow: 2px 0 10px rgba(0,0,0,0.03); }
        .brand { padding: 20px; text-align: center; border-bottom: 1px solid #f0f0f0; }
        .brand img { max-height: 45px; margin-bottom: 8px; }
        .menu { flex: 1; padding: 20px 0; overflow-y: auto; }
        .menu-title { padding: 10px 25px; font-size: 0.75rem; color: #999; font-weight: bold; letter-spacing: 1px; text-transform: uppercase; }
        .menu-item { padding: 12px 25px; cursor: pointer; color: #666; font-weight: 500; transition: 0.2s; border-left: 4px solid transparent; display: flex; align-items: center; }
        .menu-item:hover { background: #fafafa; color: var(--primary); }
        .menu-item.active { background: var(--primary-light); color: var(--primary); border-left-color: var(--primary); font-weight: bold; }
        .menu-item i { width: 25px; font-size: 1.1rem; }

        /* Main Content */
        .main { margin-left: var(--sidebar-w); padding: 30px; min-height: 100vh; }
        .page-head { display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px; }
        .page-title { font-size: 1.6rem; font-weight: 700; }
        
        /* Cards */
        .card { border: none; border-radius: 12px; box-shadow: 0 2px 6px rgba(0,0,0,0.04); margin-bottom: 24px; background: #fff; transition: transform 0.2s; }
        .card:hover { transform: translateY(-2px); box-shadow: 0 4px 12px rgba(0,0,0,0.08); }
        .card-header { background: transparent; border-bottom: 1px solid #f0f0f0; padding: 15px 20px; font-weight: 600; display: flex; justify-content: space-between; align-items: center; }

        /* Custom UI Elements */
        .badge-risk-high { background: #ffebee; color: #c62828; border: 1px solid #ffcdd2; }
        .badge-risk-med { background: #fff3e0; color: #ef6c00; border: 1px solid #ffe0b2; }
        .badge-risk-low { background: #e8f5e9; color: #2e7d32; border: 1px solid #c8e6c9; }
        
        /* Accordion Custom */
        .accordion-button:not(.collapsed) { background-color: var(--primary-light); color: var(--primary); font-weight: bold; }
        .accordion-button:focus { box-shadow: none; border-color: rgba(0,137,123,0.2); }

        /* Simulator Preview (Fixed Position or Inline) */
        .sim-container { display: flex; gap: 30px; justify-content: center; height: 750px; align-items: flex-start; }
        .phone-frame { width: 375px; height: 100%; background: #fff; border: 12px solid #2c3e50; border-radius: 45px; overflow: hidden; position: relative; box-shadow: 0 20px 40px rgba(0,0,0,0.2); display: flex; flex-direction: column; }
        /* Iframe styling to fill phone frame */
        .sim-iframe { width: 100%; height: 100%; border: none; background: #fff; }

        /* AI Avatar Selection */
        .ai-card { border: 2px solid transparent; cursor: pointer; text-align: center; transition: 0.3s; padding: 15px; border-radius: 12px; background: #fff; }
        .ai-card:hover { transform: translateY(-5px); box-shadow: 0 5px 15px rgba(0,0,0,0.1); }
        .ai-card.selected { border-color: var(--primary); background: var(--primary-light); }
        .ai-avatar { width: 80px; height: 80px; border-radius: 50%; margin: 0 auto 10px; overflow: hidden; border: 3px solid #fff; box-shadow: 0 3px 8px rgba(0,0,0,0.1); }
        .ai-avatar img { width: 100%; height: 100%; object-fit: cover; }
        .ai-stats { font-size: 0.8rem; color: #666; margin-top: 10px; background: rgba(255,255,255,0.6); padding: 5px; border-radius: 8px; }

        /* Animations */
        .fade-in { animation: fadeIn 0.4s ease-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body>

    <!-- Sidebar -->
    <div class="sidebar">
        <div class="brand">
            <img src="images/fetlogo.png" alt="Logo" onerror="this.src='https://via.placeholder.com/150x50?text=FET+Health'">
            <div class="small text-muted fw-bold mt-1">北投智慧共照雲</div>
        </div>
        <div class="menu">
            <div class="menu-item active" onclick="nav('dashboard')"><i class="fas fa-th-large"></i> 總覽儀表板</div>
            
            <div class="menu-title">臨床服務</div>
            <div class="menu-item" onclick="nav('intake')"><i class="fas fa-file-medical-alt"></i> 精神科初診填表</div>
            <div class="menu-item" onclick="nav('screening')"><i class="fas fa-clipboard-check"></i> 數位篩檢流程</div>
            <div class="menu-item" onclick="nav('cases')"><i class="fas fa-user-injured"></i> 個案管理列表</div>
            <div class="menu-item" onclick="nav('trends')"><i class="fas fa-chart-line"></i> 生理數據趨勢</div>
            
            <div class="menu-title">AI 與系統</div>
            <div class="menu-item" onclick="nav('audit')"><i class="fas fa-shield-alt"></i> AI 對話稽核</div>
            <div class="menu-item" onclick="nav('ai-set')"><i class="fas fa-robot"></i> AI 虛擬陪伴設定</div>
            <div class="menu-item" onclick="nav('liff')"><i class="fab fa-line"></i> LINE 介面管理</div>
            
            <div class="menu-title text-primary">模擬預覽</div>
            <div class="menu-item" onclick="nav('simulator')" style="background:#e3f2fd; color:#0d47a1; font-weight:bold;"><i class="fas fa-mobile-alt"></i> 前端模擬器</div>
        </div>
        <div class="p-3 border-top">
            <div class="d-flex align-items-center">
                <div class="bg-primary text-white rounded-circle d-flex align-items-center justify-content-center me-3" style="width:36px;height:36px;">Dr</div>
                <div style="line-height:1.2"><div class="fw-bold small">陳醫師</div><div class="small text-muted">精神科</div></div>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <div class="main">
        <div class="page-head">
            <div class="page-title" id="page-title">總覽儀表板</div>
            <div class="d-flex gap-2">
                <button class="btn btn-light border shadow-sm" onclick="showNotification()"><i class="fas fa-bell text-warning"></i><span class="badge bg-danger ms-1">3</span></button>
                <button class="btn btn-primary shadow-sm" onclick="nav('intake')"><i class="fas fa-plus"></i> 新增個案</button>
            </div>
        </div>

        <!-- A. 儀表板 -->
        <div id="view-dashboard" class="view-section fade-in">
            <div class="row g-4 mb-4">
                <div class="col-md-3"><div class="card p-3 border-start border-4 border-danger h-100">
                    <h6 class="text-muted small">今日高風險</h6><h2 class="text-danger fw-bold m-0">5</h2><small>較昨日 +1</small>
                </div></div>
                <div class="col-md-3"><div class="card p-3 border-start border-4 border-success h-100">
                    <h6 class="text-muted small">已完成篩檢</h6><h2 class="text-success fw-bold m-0">42</h2><small>達成率 95%</small>
                </div></div>
                <div class="col-md-3"><div class="card p-3 border-start border-4 border-info h-100">
                    <h6 class="text-muted small">初診預約</h6><h2 class="text-info fw-bold m-0">18</h2><small>等待評估</small>
                </div></div>
                <div class="col-md-3"><div class="card p-3 border-start border-4 border-warning h-100">
                    <h6 class="text-muted small">AI 互動數</h6><h2 class="text-warning fw-bold m-0">864</h2><small>活躍上升</small>
                </div></div>
            </div>
            <div class="card p-4">
                <div class="d-flex justify-content-between mb-3">
                    <h5 class="fw-bold">全院病患情緒與依從性趨勢</h5>
                    <select class="form-select form-select-sm w-auto"><option>本週</option><option>本月</option></select>
                </div>
                <div style="height: 300px; width: 100%;">
                    <canvas id="mainChart"></canvas>
                </div>
            </div>
        </div>

        <!-- B. 精神科初診填表 -->
        <div id="view-intake" class="view-section fade-in" style="display:none;">
            <div class="card">
                <div class="card-header bg-white">
                    <span><i class="fas fa-file-medical me-2 text-primary"></i>精神科門診初診基本資料表 (電子化)</span>
                    <div>
                        <button class="btn btn-sm btn-warning me-2 text-white" onclick="autoFillIntake()"><i class="fas fa-magic"></i> 一鍵帶入模擬資料</button>
                        <button class="btn btn-sm btn-outline-secondary me-2"><i class="fas fa-print"></i> 列印</button>
                        <button class="btn btn-sm btn-outline-primary" onclick="successToast('已匯入 HIS 系統')"><i class="fas fa-file-import"></i> 匯入 HIS</button>
                    </div>
                </div>
                <div class="card-body">
                    <form id="intakeForm">
                        <div class="accordion" id="accIntake">
                            <div class="accordion-item border-0 mb-3 shadow-sm rounded">
                                <h2 class="accordion-header"><button class="accordion-button fw-bold" type="button" data-bs-toggle="collapse" data-bs-target="#c1">I. 基本資料 (Profile)</button></h2>
                                <div id="c1" class="accordion-collapse collapse show"><div class="accordion-body bg-white row g-3">
                                    <div class="col-md-3"><label class="small text-muted">姓名</label><input class="form-control" id="in-name"></div>
                                    <div class="col-md-3"><label class="small text-muted">身分證</label><input class="form-control" id="in-id"></div>
                                    <div class="col-md-3"><label class="small text-muted">生日</label><input type="date" class="form-control" id="in-dob"></div>
                                    <div class="col-md-3"><label class="small text-muted">教育</label><select class="form-select" id="in-edu"><option>大學</option><option>高中</option></select></div>
                                </div></div>
                            </div>
                            <div class="accordion-item border-0 mb-3 shadow-sm rounded">
                                <h2 class="accordion-header"><button class="accordion-button collapsed fw-bold" type="button" data-bs-toggle="collapse" data-bs-target="#c2">II. 主訴與現病史 (HPI)</button></h2>
                                <div id="c2" class="accordion-collapse collapse"><div class="accordion-body bg-white">
                                    <div class="mb-3"><label class="fw-bold">主訴</label><textarea class="form-control" rows="2" id="in-cc"></textarea></div>
                                    <div class="mb-3"><label class="fw-bold">現病史</label><textarea class="form-control" rows="3" id="in-hpi"></textarea></div>
                                </div></div>
                            </div>
                            <div class="accordion-item border-0 mb-3 shadow-sm rounded">
                                <h2 class="accordion-header"><button class="accordion-button collapsed fw-bold" type="button" data-bs-toggle="collapse" data-bs-target="#c4">III. 精神狀態檢查 (MSE)</button></h2>
                                <div id="c4" class="accordion-collapse collapse"><div class="accordion-body bg-white">
                                    <div class="row g-3">
                                        <div class="col-12"><label class="fw-bold text-primary">外觀</label><div class="d-flex gap-3"><input type="checkbox" class="form-check-input" id="mse-1"> 整潔 <input type="checkbox" class="form-check-input" id="mse-2"> 髒亂</div></div>
                                        <div class="col-12"><label class="fw-bold text-primary">情感</label><div class="d-flex gap-3"><input type="checkbox" class="form-check-input" id="mse-3"> 平穩 <input type="checkbox" class="form-check-input" id="mse-4"> 憂鬱</div></div>
                                        <div class="col-12"><label class="fw-bold text-danger">自殺風險</label><div class="bg-light p-2 rounded"><select class="form-select w-auto" id="in-risk"><option value="0">低風險</option><option value="1">中風險</option><option value="2">高風險</option></select></div></div>
                                    </div>
                                </div></div>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <!-- C. 數位篩檢 -->
        <div id="view-screening" class="view-section fade-in" style="display:none;">
            <div class="row g-4">
                <div class="col-md-4"><div class="card h-100 p-3"><h5><i class="fas fa-paper-plane me-2 text-primary"></i>指派任務</h5><input class="form-control mb-3" placeholder="搜尋個案..."><div class="form-check py-2 border-bottom"><input type="checkbox" class="form-check-input" checked> BSRS-5</div><div class="form-check py-2 border-bottom"><input type="checkbox" class="form-check-input"> PHQ-9</div><button class="btn btn-success w-100 mt-3" onclick="pushTask()">推送任務</button></div></div>
                <div class="col-md-8"><div class="card h-100 p-0"><table class="table table-hover mb-0"><thead class="bg-light"><tr><th class="ps-4">姓名</th><th>量表</th><th>結果</th><th>建議</th></tr></thead><tbody><tr><td class="ps-4">陳○豪</td><td>PHQ-9</td><td><span class="badge badge-risk-high">18</span></td><td>回診</td></tr></tbody></table></div></div>
            </div>
        </div>

        <!-- D. AI 設定 -->
        <div id="view-ai-set" class="view-section fade-in" style="display:none;">
            <div class="card p-4">
                <h5><i class="fas fa-robot text-primary me-2"></i>AI 虛擬陪伴設定</h5>
                <div class="row g-4 mt-3">
                    <div class="col-md-4"><div class="ai-card p-3 rounded border selected" onclick="selectAI(this, 'avatar1.png', '小樹')"><div class="ai-avatar"><img src="images/avatar1.png"></div><h5>小樹</h5><div class="ai-stats">療癒系 | 65%</div></div></div>
                    <div class="col-md-4"><div class="ai-card p-3 rounded border" onclick="selectAI(this, 'avatar2.png', '大白')"><div class="ai-avatar"><img src="images/avatar2.png"></div><h5>大白</h5><div class="ai-stats">專業系 | 20%</div></div></div>
                    <div class="col-md-4"><div class="ai-card p-3 rounded border" onclick="selectAI(this, 'avatar3.png', '暖暖')"><div class="ai-avatar"><img src="images/avatar3.png"></div><h5>暖暖</h5><div class="ai-stats">活潑系 | 15%</div></div></div>
                </div>
            </div>
        </div>

        <!-- Other Views -->
        <div id="view-cases" class="view-section fade-in" style="display:none;">
            <div class="card">
                <div class="card-header bg-white"><span>個案管理列表</span> <button class="btn btn-sm btn-outline-secondary">匯出報表</button></div>
                <table class="table table-hover align-middle mb-0">
                    <thead class="bg-light"><tr><th class="ps-4">狀態</th><th>病歷號</th><th>姓名</th><th>診斷</th><th>主要照護者</th><th>操作</th></tr></thead>
                    <tbody>
                        <tr><td class="ps-4"><span class="badge badge-risk-high">高風險</span></td><td>A-10293</td><td>陳○豪</td><td>雙相情緒障礙</td><td>張護理師</td><td><button class="btn btn-sm btn-primary rounded-pill px-3" onclick="showCaseDetail()">詳情</button></td></tr>
                        <tr><td class="ps-4"><span class="badge badge-risk-med">中風險</span></td><td>B-20481</td><td>林○婷</td><td>廣泛性焦慮症</td><td>李個管師</td><td><button class="btn btn-sm btn-primary rounded-pill px-3">詳情</button></td></tr>
                        <tr><td class="ps-4"><span class="badge badge-risk-low">穩定</span></td><td>C-30592</td><td>王○明</td><td>失眠症</td><td>張護理師</td><td><button class="btn btn-sm btn-primary rounded-pill px-3">詳情</button></td></tr>
                    </tbody>
                </table>
            </div>
        </div>

        <div id="view-trends" class="view-section fade-in" style="display:none;">
            <div class="card p-4">
                <div class="row mb-4">
                    <div class="col-md-4"><label>選擇個案</label><select class="form-select" id="trend-selector" onchange="updateTrendData()"><option value="chen">陳○豪</option><option value="lin">林○婷</option></select></div>
                    <div class="col-md-4"><label>數據類型</label>
                        <div class="btn-group w-100">
                            <button class="btn btn-outline-primary active">睡眠</button>
                            <button class="btn btn-outline-primary">血壓</button>
                            <button class="btn btn-outline-primary">情緒</button>
                        </div>
                    </div>
                </div>
                <div style="height:300px;"><canvas id="trendChart"></canvas></div>
            </div>
        </div>

        <div id="view-audit" class="view-section fade-in" style="display:none;">
            <div class="card">
                <div class="card-header bg-warning bg-opacity-10 text-dark"><i class="fas fa-history me-2"></i>AI 對話風險稽核</div>
                <div class="list-group list-group-flush">
                    <div class="list-group-item p-4">
                        <div class="d-flex justify-content-between mb-2">
                            <h6 class="fw-bold text-danger"><i class="fas fa-circle fa-xs me-2"></i>自殺意念偵測</h6><small class="text-muted">今天 10:45</small>
                        </div>
                        <p class="mb-1 text-dark bg-light p-2 rounded">病患：「我覺得好累，活著沒有意義，想結束這一切...」</p>
                        <small class="text-primary"><i class="fas fa-robot"></i> AI 處置：已觸發 SOP，提供 1925 專線，並通報個管師介入。</small>
                        <div class="mt-2"><button class="btn btn-sm btn-outline-danger">標記為已處理</button></div>
                    </div>
                    <div class="list-group-item p-4">
                        <div class="d-flex justify-content-between mb-2">
                            <h6 class="fw-bold text-info"><i class="fas fa-circle fa-xs me-2"></i>藥物諮詢</h6><small class="text-muted">昨天 20:30</small>
                        </div>
                        <p class="mb-1 text-dark bg-light p-2 rounded">病患：「吃了藥一直想睡覺，可以停藥嗎？」</p>
                        <small class="text-primary"><i class="fas fa-robot"></i> AI 處置：解釋副作用，建議不要自行停藥，記錄後回診討論。</small>
                    </div>
                </div>
            </div>
        </div>

        <div id="view-liff" class="view-section fade-in" style="display:none;">
            <div class="card p-4">
                <h5 class="mb-3">LINE 介面管理</h5>
                <div class="row">
                    <div class="col-md-6">
                        <label class="form-label text-muted">Rich Menu 樣式預覽</label>
                        <div class="border rounded p-3 bg-light text-center">
                            <div class="rich-menu" style="border:1px solid #ddd;">
                                <div class="rich-item"><i class="fas fa-comment-dots"></i>聊天</div>
                                <div class="rich-item"><i class="fas fa-heartbeat"></i>健康</div>
                                <div class="rich-item"><i class="fas fa-robot"></i>陪伴</div>
                                <div class="rich-item"><i class="fas fa-user"></i>個人</div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <label class="form-label">LIFF ID 配置</label>
                        <input class="form-control mb-2" value="1657099999-AbCdEfG">
                        <button class="btn btn-success w-100">同步設定</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- E. 模擬器 (Fixed: Use Iframe) -->
        <div id="view-simulator" class="view-section fade-in" style="display:none;">
            <div class="sim-container">
                <!-- Phone Frame with Iframe -->
                <div class="phone-frame">
                    <iframe src="mobile.html" class="sim-iframe" id="simFrame" title="Mobile Simulator"></iframe>
                </div>
                
                <div style="width:250px;">
                    <div class="card p-3">
                        <h6 class="fw-bold">模擬狀態</h6>
                        <p class="small text-muted mb-2">前端即時預覽</p>
                        <p class="small text-muted" style="font-size:0.8rem">透過 iframe 載入 mobile.html</p>
                        <button class="btn btn-outline-secondary w-100 btn-sm" onclick="document.getElementById('simFrame').contentWindow.location.reload();">重新載入</button>
                    </div>
                </div>
            </div>
        </div>

    </div>

    <!-- Modals -->
    <div class="modal fade" id="previewModal" tabindex="-1"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><h5 class="modal-title">預覽</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body">表單內容...</div></div></div></div>

    <script>
        // Global State
        let mainChartInstance = null;
        let trendChartInstance = null;

        // Nav
        function nav(id) {
            document.querySelectorAll('.menu-item').forEach(e => e.classList.remove('active'));
            // Find button by onclick attribute content
            const btns = document.querySelectorAll('.menu-item');
            for (const btn of btns) {
                if (btn.getAttribute('onclick').includes(`'${id}'`)) {
                    btn.classList.add('active');
                    break;
                }
            }
            
            document.querySelectorAll('.view-section').forEach(e => e.style.display = 'none');
            const target = document.getElementById('view-'+id);
            if(target) { target.style.display='block'; target.classList.add('fade-in'); }
            
            if(id==='dashboard') initMainChart();
        }

        function selectAI(el, img, name) {
            document.querySelectorAll('.ai-card').forEach(c => c.classList.remove('selected'));
            el.classList.add('selected');
            Swal.fire({toast:true, position:'top-end', icon:'success', title:'已切換: '+name, showConfirmButton:false, timer:1500});
        }

        // Action Functions
        function autoFillIntake() {
            document.getElementById('in-name').value = "陳○豪";
            document.getElementById('in-id').value = "A123456789";
            document.getElementById('in-dob').value = "1985-05-20";
            document.getElementById('in-cc').value = "失眠、情緒低落";
            document.getElementById('in-hpi').value = "工作壓力大";
            document.getElementById('mse-4').checked = true; document.getElementById('in-risk').value = "1";
            document.querySelectorAll('.accordion-collapse').forEach(e => e.classList.add('show'));
            Swal.fire({toast:true, position:'top-end', icon:'success', title:'資料已填入', showConfirmButton:false, timer:1500});
        }
        function pushTask() { Swal.fire({toast:true, position:'top-end', icon:'success', title:'任務已推送', showConfirmButton:false, timer:1500}); }
        function showCaseDetail() { Swal.fire({title:'陳○豪', text:'診斷：雙相情緒障礙', icon:'info'}); }
        function successToast(msg) { Swal.fire({toast:true, position:'top-end', icon:'success', title:msg, showConfirmButton:false, timer:1500}); }

        // Chart
        function initMainChart() {
            const ctx = document.getElementById('mainChart');
            if(ctx) {
                if(mainChartInstance) mainChartInstance.destroy();
                mainChartInstance = new Chart(ctx, {
                    type: 'line',
                    data: { labels: ['M','T','W','T','F','S','S'], datasets: [{label:'依從性',data:[85,88,86,92,80,78,85],borderColor:'#00897b',tension:0.4}] },
                    options: { maintainAspectRatio:false, scales:{y:{max:100}} }
                });
            }
        }
        
        function updateTrendData() {
            const ctx = document.getElementById('trendChart');
            if(ctx) {
                if(trendChartInstance) trendChartInstance.destroy();
                const isChen = document.getElementById('trend-selector')?.value === 'chen';
                const data = isChen ? [5.2,5.8,6.1,6.5,7.0] : [6.5,7.0,7.2,7.1,7.3];
                trendChartInstance = new Chart(ctx, {
                    type: 'bar',
                    data: { labels:['1月','2月','3月','4月','5月'], datasets:[{label:'睡眠(hr)', data:data, backgroundColor:'#00897b'}] },
                    options: { maintainAspectRatio:false }
                });
            }
        }
        
        // Init
        document.addEventListener('DOMContentLoaded', () => { nav('dashboard'); });
    </script>
</body>
</html>