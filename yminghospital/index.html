<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="image/feticon.ico" type="image/x-icon">
    <title>æ™ºæ…§é†«é™¢ - æ•¸ä½é›™ç”Ÿç®¡ç†å¹³å°</title>
    <link rel="icon" href="feticon.ico" type="image/x-icon">
    <style>
        :root {
            --primary-color: #0071c5; /* é å‚³çš„æ¨™æº–è—è‰² */
            --danger-color: #d93025;
            --bg-color: #ffffff;
            --content-bg: #f4f6f8;
            --text-color: #333333;
            --text-light: #777;
            --border-color: #eaeaea;
            --sidebar-bg: #ffffff;
        }
        body {
            font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            background-color: var(--content-bg);
            color: var(--text-color);
            margin: 0;
            display: flex;
            height: 100vh;
            overflow: hidden;
        }

        /* --- å…§åµŒå¼ SVG Icon å®šç¾© --- */
        .icon {
            width: 18px;
            height: 18px;
            margin-right: 12px;
            fill: currentColor; /* é—œéµï¼šè®“SVGé¡è‰²éš¨æ–‡å­—é¡è‰²è®ŠåŒ– */
            flex-shrink: 0;
        }

        /* --- å´é‚Šå°èˆªåˆ— --- */
        .sidebar {
            width: 260px;
            background-color: var(--sidebar-bg);
            border-right: 1px solid var(--border-color);
            padding: 20px;
            display: flex;
            flex-direction: column;
            overflow-y: auto;
        }
        .sidebar-header {
            display: flex;
            align-items: center;
            padding-bottom: 20px;
            margin-bottom: 20px;
            border-bottom: 1px solid var(--border-color);
        }
        .sidebar-header .logo {
            width: 100%; /* å¡«æ»¿ */
            max-width: 150px; /* æœ€å¤§å¯¬åº¦ */
            height: auto;
        }
        .sidebar-section {
            margin-bottom: 20px;
        }
        .sidebar-section h3 {
            font-size: 14px;
            color: var(--text-light);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin: 0 0 10px 10px;
        }
        .nav-link {
            display: flex;
            align-items: center;
            padding: 12px 15px;
            border-radius: 8px;
            text-decoration: none;
            color: var(--text-color);
            font-size: 16px;
            font-weight: 500;
            margin-bottom: 5px;
        }
        .nav-link:hover {
            background-color: var(--content-bg);
        }
        .nav-link.active {
            background-color: var(--primary-color);
            color: white;
            box-shadow: 0 4px 10px rgba(0, 113, 197, 0.2);
        }

        /* --- ä¸»å…§å®¹å€åŸŸ --- */
        .content-area {
            flex: 1;
            overflow-y: auto;
            padding: 30px;
        }
        .page {
            display: none; /* é è¨­éš±è— */
        }
        .page.active {
            display: block; /* é¡¯ç¤ºç•¶å‰é é¢ */
        }
        .page-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 0 0 20px 0;
        }
        .page-header h1 {
            font-size: 28px;
            font-weight: 700;
            margin: 0;
        }

        /* --- çµ„ä»¶ --- */
        .button-primary {
            background-color: var(--primary-color);
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 500;
            cursor: pointer;
        }
        .button-primary:hover {
            background-color: #005a9c;
        }
        .button-secondary {
            background-color: var(--content-bg);
            color: var(--text-color);
            border: 1px solid var(--border-color);
            padding: 8px 12px;
            border-radius: 6px;
            font-size: 14px;
            cursor: pointer;
        }
        .button-secondary:hover {
            background-color: #e0e0e0;
        }
        .button-secondary.processed {
            background-color: #e6f7ff;
            color: #005a9c;
            border-color: #b3e0ff;
            cursor: not-allowed;
        }

        .widget {
            background-color: var(--bg-color);
            border-radius: 12px;
            padding: 20px;
            border: 1px solid var(--border-color);
            box-shadow: 0 2px 8px rgba(0,0,0,0.02);
            margin-bottom: 20px;
        }
        .grid-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }
        select, input[type="text"] {
            width: 100%;
            padding: 10px;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            font-size: 16px;
            background-color: var(--bg-color);
        }
        .form-row {
            display: flex;
            gap: 20px;
            margin-bottom: 20px;
        }
        
        /* è¡¨æ ¼æ¨£å¼ (å€¼ç­è¡¨) */
        .table-container { width: 100%; overflow-x: auto; }
        table { width: 100%; border-collapse: collapse; margin-top: 15px; }
        th, td { border: 1px solid var(--border-color); padding: 12px 15px; text-align: left; }
        th { background-color: var(--content-bg); font-weight: 600; }
        td { background-color: var(--bg-color); vertical-align: top; }
        td input[type="text"] {
            width: calc(100% - 20px); /* å¾®èª¿å¯¬åº¦ */
        }
        
        /* ç—…æˆ¿åˆ—è¡¨æ¨£å¼ */
        .ward-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); gap: 15px; }
        .bed-card { border: 1px solid var(--border-color); border-radius: 8px; padding: 15px; text-align: center; }
        .bed-card .bed-number { font-size: 18px; font-weight: 600; }
        .bed-card .patient-name { font-size: 14px; color: var(--text-light); margin: 5px 0 0 0; }
        .bed-card.occupied { background-color: #fff8f8; border-color: #ffd1d1; }
        .bed-card.occupied .patient-name { color: var(--danger-color); font-weight: 500; }
        .bed-card.available { background-color: #f8fff8; border-color: #d1ffd1; }
        .bed-card.available .patient-name { color: #1e8e3e; }

        /* API é é¢æ¨£å¼ */
        pre { background-color: #2d2d2d; color: #f1f1f1; padding: 20px; border-radius: 8px; overflow-x: auto; font-family: 'Courier New', Courier, monospace; font-size: 14px; }
        code { color: #9cdcfe; }
        .endpoint { font-family: 'Courier New', Courier, monospace; background: #eee; padding: 3px 6px; border-radius: 4px; }

        /* ç›£è¦–å™¨ & è·Œå€’åµæ¸¬ */
        .video-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(350px, 1fr)); gap: 20px; }
        
        .video-feed { 
            background: #333; 
            color: white; 
            border-radius: 8px; 
            aspect-ratio: 16 / 9; 
            position: relative;
            overflow: hidden; /* ç¢ºä¿å­å±¤ (åœ–ç‰‡) éµå®ˆåœ“è§’ */
        }
        .video-feed .label { 
            position: absolute; 
            bottom: 10px; 
            left: 10px; 
            background: rgba(0,0,0,0.5); 
            padding: 5px 8px; 
            border-radius: 4px; 
            font-size: 14px;
            z-index: 10; /* ç¢ºä¿æ¨™ç±¤åœ¨åœ–ç‰‡ä¹‹ä¸Š */
        }
        
        /* è·Œå€’åµæ¸¬å‹•æ…‹æ¨¡æ“¬ */
        .alert-feed {
            border: 4px solid var(--danger-color);
            box-shadow: 0 0 20px rgba(217, 48, 37, 0.6);
            animation: pulse 1s infinite;
        }
        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(217, 48, 37, 0.7); }
            70% { box-shadow: 0 0 0 20px rgba(217, 48, 37, 0); }
            100% { box-shadow: 0 0 0 0 rgba(217, 48, 37, 0); }
        }
        .alert-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            border: 1px solid var(--border-color);
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 10px;
        }
        .alert-item.critical {
            border-left: 4px solid var(--danger-color);
            background: #fff8f8;
        }

        .live-icon {
            width: 100%;
            height: 100%;
            object-fit: cover; /* å¡«æ»¿å®¹å™¨ï¼Œå¤šé¤˜éƒ¨åˆ†è£åˆ‡ */
        }

    </style>
</head>
<body>

    <svg style="display:none">
        <defs>
            <symbol id="icon-dashboard" viewBox="0 0 24 24"><path d="M3 13h8V3H3v10zm0 8h8v-6H3v6zm10 0h8V11h-8v10zm0-18v6h8V3h-8z"/></symbol>
            <symbol id="icon-inpatient" viewBox="0 0 24 24"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-1 16H6v-6h12v6zm0-8H6V6h12v5z"/></symbol>
            <symbol id="icon-schedule" viewBox="0 0 24 24"><path d="M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"/></symbol>
            <symbol id="icon-ward" viewBox="0 0 24 24"><path d="M21 11c-1.1 0-2 .9-2 2v4H5v-4c0-1.1-.9-2-2-2s-2 .9-2 2v6h20v-6c0-1.1-.9-2-2-2zM5 10h14v-2c0-1.1-.9-2-2-2h-2.28c-.4-1.2-1.5-2-2.72-2s-2.32.8-2.72 2H8c-1.1 0-2 .9-2 2v2z"/></symbol>
            <symbol id="icon-fall" viewBox="0 0 24 24"><path d="M11 5.5c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zM15.5 6H13v6h1.5v3.5l1.6 1.4c.1.1.3.2.5.2s.4-.1.5-.2c.3-.3.3-.8 0-1.1l-1.6-1.4V12h1.5c.8 0 1.5-.7 1.5-1.5v-3c0-.8-.7-1.5-1.5-1.5zM6 16c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12-9c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zM8.5 6H11v6H8.5V9.5L6.9 8.1c-.1-.1-.3-.2-.5-.2s-.4.1-.5.2c-.3.3-.3.8 0 1.1l1.6 1.4V12H6c-.8 0-1.5.7-1.5 1.5v3c0 .8.7 1.5 1.5 1.5h2.5V22h3v-6H9v-3.5l1.6-1.4c.3-.3.3-.8 0-1.1l-1.6-1.4V6z"/></symbol>
            <symbol id="icon-mobile" viewBox="0 0 24 24"><path d="M17 1H7c-1.1 0-2 .9-2 2v18c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2zm0 18H7V5h10v14z"/></symbol>
            <symbol id="icon-cctv" viewBox="0 0 24 24"><path d="m18 10.48 4-3.98v11l-4-3.98V18H2V6h16v4.48zM5 16h8v-2H5v2zm0-3h8v-2H5v2zm0-3h8V8H5v2z"/></symbol>
            <symbol id="icon-api" viewBox="0 0 24 24"><path d="M9.4 16.6 4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0 4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"/></symbol>
            <symbol id="icon-esg" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L11 15v4.93zM13 19.93V15h6.79c-.43 2.91-2.73 5.21-5.64 5.64l-.01.01c-.38.03-.76.05-1.15.05zM13 13V2.07c3.95.49 7 3.85 7 7.93 0 .62-.08 1.21-.21 1.79L13 13z"/></symbol>
            <symbol id="icon-admin" viewBox="0 0 24 24"><path d="M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM14 13v4h-4v-4H7l5-5 5 5h-3z"/></symbol>
        </defs>
    </svg>

    <nav class="sidebar">
        <div class="sidebar-header">
            <img src="fetlogo.png" alt="Logo" class="logo">
        </div>

        <div class="sidebar-section">
            <h3>ç¸½è¦½</h3>
            <a href="#" class="nav-link active" data-page="page-dashboard">
                <svg class="icon"><use xlink:href="#icon-dashboard"></use></svg>
                æˆ°æƒ…å®¤ç¸½è¦½
            </a>
            <a href="#" class="nav-link" data-page="page-inpatient-dash">
                <svg class="icon"><use xlink:href="#icon-inpatient"></use></svg>
                ä½é™¢ç—…æˆ¿DashBoard
            </a>
        </div>

        <div class="sidebar-section">
            <h3>äººå“¡èˆ‡ç—…æˆ¿</h3>
            <a href="#" class="nav-link" data-page="page-schedule">
                <svg class="icon"><use xlink:href="#icon-schedule"></use></svg>
                è­·ç†å¸«å€¼ç­è¡¨
            </a>
            <a href="#" class="nav-link" data-page="page-ward-list">
                <svg class="icon"><use xlink:href="#icon-ward"></use></svg>
                ç—…æˆ¿åˆ—è¡¨
            </a>
        </div>

        <div class="sidebar-section">
            <h3>AIoT æ‡‰ç”¨</h3>
            <a href="#" class="nav-link" data-page="page-fall-detection">
                <svg class="icon"><use xlink:href="#icon-fall"></use></svg>
                è·Œå€’åµæ¸¬ç®¡ç†
            </a>
            <a href="#" class="nav-link" data-page="page-cctv-manage">
                <svg class="icon"><use xlink:href="#icon-cctv"></use></svg>
                ç›£è¦–å™¨ç®¡ç†
            </a>
            <a href="#" class="nav-link" data-page="page-cctv-admin">
                <svg class="icon"><use xlink:href="#icon-admin"></use></svg>
                ç›£è¦–å™¨å¾Œå°ç®¡ç†
            </a>
        </div>

        <div class="sidebar-section">
            <h3>ç³»çµ±èˆ‡æ•´åˆ</h3>
            <a href="mobile.html" target="_blank" class="nav-link">
                <svg class="icon"><use xlink:href="#icon-mobile"></use></svg>
                è¡Œå‹•è­·ç†ç«™ (Demo)
            </a>
            <a href="#" class="nav-link" data-page="page-api-nis">
                <svg class="icon"><use xlink:href="#icon-api"></use></svg>
                NIS ç³»çµ±æ•´åˆ API
            </a>
            <a href="#" class="nav-link" data-page="page-api-esg">
                <svg class="icon"><use xlink:href="#icon-esg"></use></svg>
                ESG èƒ½æºç®¡ç† API
            </a>
            <a href="#" class="nav-link" data-page="page-api-cctv">
                <svg class="icon"><use xlink:href="#icon-api"></use></svg>
                ç›£è¦–å™¨ API
            </a>
            <a href="#" class="nav-link" data-page="page-api-fall">
                <svg class="icon"><use xlink:href="#icon-api"></use></svg>
                è·Œå€’åµæ¸¬ API
            </a>
        </div>
    </nav>

    <main class="content-area">

        <div class="page active" id="page-dashboard">
            <div class="page-header">
                <h1>æˆ°æƒ…å®¤ç¸½è¦½</h1>
            </div>

            <div class="grid-container" style="grid-template-columns: repeat(3, 1fr); gap: 20px;">
                
                <div class="widget">
                    <h3>é—œéµèƒ½è€—æŒ‡æ¨™ (PUE)</h3>
                    <p style="font-size: 36px; font-weight: 700; color: var(--primary-color);">1.53</p>
                </div>
                <div class="widget">
                    <h3>ä½”åºŠç‡</h3>
                    <p style="font-size: 36px; font-weight: 700;">85%</p>
                </div>
                <div class="widget">
                    <h3>ä»Šæ—¥è·Œå€’è­¦ç¤º</h3>
                    <p style="font-size: 36px; font-weight: 700; color: var(--danger-color);">1</p>
                </div>

                <div class="widget" style="grid-column: span 3;">
                    <h3>BIM / æ•¸ä½é›™ç”Ÿæ¨¡å‹ </h3>
                    <div style="height: 550px; background: #eee; border-radius: 8px; overflow: hidden;">
                        <iframe
                            src="https://player.vimeo.com/video/1137532287?background=1&badge=0"
                            style="width:100%; height:100%; border:0;"
                            allow="autoplay; fullscreen; picture-in-picture"
                            frameborder="0"
                        ></iframe>
                    </div>
                </div>

            </div> </div>
        <div class="page" id="page-inpatient-dash">
            <div class="page-header"><h1>ä½é™¢ç—…æˆ¿DashBoard</h1></div>
            <div class="grid-container">
                <div class="widget">
                    <h3>ä½”åºŠç‡</h3>
                    <p style="font-size: 36px; font-weight: 700; color: var(--primary-color);">85%</p>
                    <p>ç›®å‰ä½é™¢: 170 / 200 åºŠ</p>
                </div>
                <div class="widget">
                    <h3>ä»Šæ—¥é è¨ˆå‡ºé™¢</h3>
                    <p style="font-size: 36px; font-weight: 700; color: #1e8e3e;">12</p>
                    <p>å·²å‡ºé™¢: 5</p>
                </div>
                <div class="widget">
                    <h3>é«˜é¢¨éšªç—…æ‚£ (è·Œå€’/å£“ç˜¡)</h3>
                    <p style="font-size: 36px; font-weight: 700; color: var(--danger-color);">8</p>
                </div>
            </div>
        </div>

        <div class="page" id="page-schedule">
            <div class="page-header">
                <h1>è­·ç†å¸«å€¼ç­è¡¨</h1>
                <button class="button-primary">
                    <svg class="icon" style="margin-right: 8px;"><use xlink:href="#icon-admin"></use></svg>
                    åŒæ­¥NISç³»çµ±å€¼ç­è¡¨
                </button>
            </div>
            <div class="widget">
                <h3>ä»Šæ—¥ç­è¡¨ (2025-11-14) - 3F-A è­·ç†ç«™</h3>
                <div class="table-container">
                    <table>
                        <thead><tr><th>æ™‚æ®µ</th><th>ç¬¬ä¸€ä¸»è­·</th><th>ç¬¬äºŒä¸»è­·</th></tr></thead>
                        <tbody>
                            <tr>
                                <td><strong>ç™½ç­ (D)</strong><br>08:00 - 16:00</td>
                                <td><input type="text" value="ç‹æ›‰æ˜ (N3)"></td>
                                <td><input type="text" value="é™³æ€¡å› (N1)"></td>
                            </tr>
                            <tr>
                                <td><strong>å°å¤œ (E)</strong><br>16:00 - 00:00</td>
                                <td><input type="text" value="å¼µéº—è¯ (N2)"></td>
                                <td><input type="text" value=""></td>
                            </tr>
                            <tr>
                                <td><strong>å¤§å¤œ (N)</strong><br>00:00 - 08:00</td>
                                <td><input type="text" value="é«˜å¿—å¼· (N3)"></td>
                                <td><input type="text" value=""></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <div class="page" id="page-ward-list">
            <div class="page-header">
                <h1>ç—…æˆ¿åˆ—è¡¨</h1>
                <button class="button-primary">
                    <svg class="icon" style="margin-right: 8px;"><use xlink:href="#icon-admin"></use></svg>
                    åŒæ­¥NISç³»çµ±ç‹€æ…‹
                </button>
            </div>
            <div class="widget">
                <h3>3F-A è­·ç†ç«™</h3>
                <div class="ward-grid">
                    <div class="bed-card occupied"><div class="bed-number">301-1</div><div class="patient-name">ç‹OO</div></div>
                    <div class="bed-card occupied"><div class="bed-number">301-2</div><div class="patient-name">æOO</div></div>
                    <div class="bed-card available"><div class="bed-number">302-1</div><div class="patient-name">ç©ºåºŠ</div></div>
                    <div class="bed-card occupied"><div class="bed-number">302-2</div><div class="patient-name">é™³OO</div></div>
                </div>
            </div>
        </div>

        <div class="page" id="page-fall-detection">
            <div class="page-header"><h1>è·Œå€’åµæ¸¬ç®¡ç†</h1></div>
            <div class="grid-container" style="grid-template-columns: 2fr 1fr;">
<div class="widget" style="grid-row: span 2;">
    <h3>å³æ™‚å½±åƒ (é«˜é¢¨éšªå€åŸŸ)</h3>
    <div class="video-grid">
        <div class="video-feed alert-feed">
            <div class="label">ğŸ”´ 305æˆ¿ (è­¦ç¤º: åµæ¸¬åˆ°è·Œå€’)</div>
            <img src="livecamara.jpg" alt="Live" class="live-icon">
        </div>
        <div class="video-feed">
            <div class="label">3F èµ°é“</div>
            <img src="livecamara2.jpg" alt="Live" class="live-icon">
        </div>
        <div class="video-feed">
            <div class="label">502æˆ¿ (é«˜é¢¨éšª)</div>
            <img src="livecamara3.jpg" alt="Live" class="live-icon">
        </div>
        <div class="video-feed">
            <div class="label">5F äº¤èª¼å»³</div>
            <img src="livecamara4.jpg" alt="Live" class="live-icon">
        </div>
    </div>
</div>
                <div class="widget">
                    <h3>å³æ™‚è­¦ç¤º</h3>
                    <div class="alert-item critical">
                        <div><strong>[è·Œå€’] 305æˆ¿</strong><br>15:32:05</div>
                        <button class="button-secondary" onclick="acknowledgeAlert(this)">æ¨™è¨˜å·²é€šçŸ¥</button>
                    </div>
                </div>
                <div class="widget">
                    <h3>ä»Šæ—¥äº‹ä»¶åˆ—è¡¨</h3>
                    <div class="alert-item"><div><strong>[é›¢åºŠ] 502æˆ¿ (å·²è™•ç†)</strong><br>14:15:20</div></div>
                </div>
            </div>
        </div>

        <div class="page" id="page-cctv-manage">
            <div class="page-header"><h1>ç›£è¦–å™¨ç®¡ç†</h1></div>
            <div class="widget">
                <div class="form-row">
                    <div style="flex:1;">
                        <label for="cctv-floor">é¸æ“‡æ¨“å±¤</label>
                        <select id="cctv-floor" onchange="updateCctvArea()">
                            <option value="">è«‹é¸æ“‡</option>
                            <option value="3F">3F</option>
                            <option value="5F">5F</option>
                            <option value="B1">B1</option>
                        </select>
                    </div>
                    <div style="flex:1;">
                        <label for="cctv-area">é¸æ“‡å€åŸŸ</label>
                        <select id="cctv-area">
                            <option value="">è«‹å…ˆé¸æ“‡æ¨“å±¤</option>
                        </select>
                    </div>
                </div>
                <div class="video-grid" id="cctv-grid">
                    <div class="video-feed"><div class="label">è«‹é¸æ“‡æ¨“å±¤èˆ‡å€åŸŸ</div></div>
                </div>
            </div>
        </div>

        <div class="page" id="page-cctv-admin">
            <div class="page-header"><h1>ç›£è¦–å™¨å¾Œå°ç®¡ç†</h1></div>
            <div class="widget">
                <div class="table-container">
                    <table>
                        <thead><tr><th>ID</th><th>åç¨±</th><th>IPä½å€</th><th>ç‹€æ…‹</th><th>æ“ä½œ</th></tr></thead>
                        <tbody>
                            <tr>
                                <td>CCTV-01</td>
                                <td>3F-A èµ°é“</td>
                                <td>192.168.1.101</td>
                                <td style="color: #1e8e3e;">é€£ç·šä¸­</td>
                                <td><button class="button-secondary">ç·¨è¼¯</button></td>
                            </tr>
                            <tr>
                                <td>CCTV-02</td>
                                <td>3F-B è­·ç†ç«™</td>
                                <td>192.168.1.102</td>
                                <td style="color: #1e8e3e;">é€£ç·šä¸­</td>
                                S<td><button class="button-secondary">ç·¨è¼¯</button></td>
                            </tr>
                            <tr>
                                <td>CCTV-03</td>
                                <td>B1 åœè»Šå ´</td>
                                <td>192.168.1.103</td>
                                <td style="color: var(--danger-color);">é›¢ç·š</td>
                                <td><button class="button-secondary">ç·¨è¼¯</button></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        
        <div class="page" id="page-api-nis"><div class="page-header"><h1>NIS ç³»çµ±æ•´åˆ API</h1></div><div class="widget"><pre><code>GET /api/v1/nis/patients/{patientId}</code></pre></div></div>
        <div class="page" id="page-api-esg"><div class="page-header"><h1>ESG èƒ½æºç®¡ç† API</h1></div><div class="widget"><pre><code>GET /api/v1/esg/building/pue</code></pre></div></div>
        <div class="page" id="page-api-cctv"><div class="page-header"><h1>ç›£è¦–å™¨ API</h1></div><div class="widget"><pre><code>GET /api/v1/cctv/stream/{cameraId}</code></pre></div></div>
        <div class="page" id="page-api-fall"><div class="page-header"><h1>è·Œå€’åµæ¸¬ API</h1></div><div class="widget"><pre><code>POST /api/v1/fall/webhook</code></pre></div></div>

    </main>

    <script>
        // --- ç¶²é ç‰ˆ é é¢åˆ‡æ› ---
        document.querySelectorAll('.sidebar .nav-link').forEach(link => {
            link.addEventListener('click', (e) => {
                // å¦‚æœæ˜¯æ–°é–‹è¦–çª—çš„é€£çµï¼Œå°±è®“å®ƒåŸ·è¡Œé è¨­å‹•ä½œ
                if (link.target === '_blank') {
                    return;
                }
                
                e.preventDefault();
                const pageId = link.getAttribute('data-page');
                if (!pageId) return;

                document.querySelectorAll('.content-area .page').forEach(page => {
                    page.classList.remove('active');
                });
                const targetPage = document.getElementById(pageId);
                if(targetPage) targetPage.classList.add('active');

                document.querySelectorAll('.sidebar .nav-link').forEach(nav => {
                    nav.classList.remove('active');
                });
                link.classList.add('active');
            });
        });

        // --- è·Œå€’åµæ¸¬ "æ¨™è¨˜å·²é€šçŸ¥" æŒ‰éˆ• ---
        function acknowledgeAlert(button) {
            button.innerText = 'å·²è™•ç†';
            button.disabled = true;
            button.classList.add('processed');
            // ç§»é™¤è­¦ç¤ºç´…æ¡† (å¯é¸)
            const alertItem = button.closest('.alert-item');
            if (alertItem) {
                alertItem.classList.remove('critical');
            }
        }

        // --- ç›£è¦–å™¨å…©å±¤é€£å‹•é¸å–® ---
        const cctvAreas = {
            "3F": ["3F-A èµ°é“", "3F-B è­·ç†ç«™", "305æˆ¿"],
            "5F": ["5F-A èµ°é“", "5F äº¤èª¼å»³", "502æˆ¿"],
            "B1": ["B1 åœè»Šå ´ Aå€", "B1 åœè»Šå ´ Bå€"]
        };
        
        function updateCctvArea() {
            const floorSelect = document.getElementById('cctv-floor');
            const areaSelect = document.getElementById('cctv-area');
            const grid = document.getElementById('cctv-grid');
            const selectedFloor = floorSelect.value;
            
            areaSelect.innerHTML = '<option value="">è«‹é¸æ“‡å€åŸŸ</option>'; // æ¸…ç©º
            grid.innerHTML = '<div class="video-feed"><div class="label">è«‹é¸æ“‡æ¨“å±¤èˆ‡å€åŸŸ</div></div>'; // æ¸…ç©º
            
            if (selectedFloor && cctvAreas[selectedFloor]) {
                cctvAreas[selectedFloor].forEach(area => {
                    const option = document.createElement('option');
                    option.value = area;
                    option.innerText = area;
                    areaSelect.appendChild(option);
                });
            }
        }

        // (å¯é¸) ç›£è½å€åŸŸè®ŠåŒ–ä¾†æ›´æ–°å½±åƒæ ¼
        document.getElementById('cctv-area')?.addEventListener('change', function() {
            const grid = document.getElementById('cctv-grid');
            const selectedArea = this.value;
            if (selectedArea) {
                /*
                 * ã€ä¿®æ­£ 3ã€‘:
                 * å°‡åŸä¾†çš„ [ LIVE ] æ–‡å­—ï¼Œ
                 * æ›¿æ›ç‚ºèˆ‡ "è·Œå€’åµæ¸¬" é é¢ç›¸åŒçš„ <img> åœ–æª” (livecamara.jpg)
                 */
                grid.innerHTML = `
                    <div class="video-feed">
                        <img src="livecamara.jpg" alt="${selectedArea}" class="live-icon">
                        <div class="label">${selectedArea}</div>
                    </div>`;
            } else {
                grid.innerHTML = '<div class="video-feed"><div class="label">è«‹é¸æ“‡å€åŸŸ</div></div>';
            }
        });

    </script>

</body>
</html>
